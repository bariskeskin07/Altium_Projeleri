Vue.config.devtools=!0,Vue.filter("formatCurrency",function(e,t){if("original"==t&&0==e)return"";var i=void 0==$.cookie("seeedCurrencyType")?"USD":$.cookie("seeedCurrencyType"),a=void 0==$.cookie("seeed_"+i+"_rate")?1:$.cookie("seeed_"+i+"_rate"),o="$";switch(i){case"EUR":o="€";break;case"JPY":o="¥";break;case"GBP":o="£";break;case"CAD":o="C$";break;case"AUD":o="A$";break;case"CNY":o="￥";break;default:o=i+"$"}return o+(e*a).toFixed(2)}),Vue.filter("formatCurrencyFree",function(e,t){var i=void 0==$.cookie("seeedCurrencyType")?"USD":$.cookie("seeedCurrencyType"),a=void 0==$.cookie("seeed_"+i+"_rate")?1:$.cookie("seeed_"+i+"_rate"),o="$";switch(i){case"EUR":o="€";break;case"JPY":o="¥";break;case"GBP":o="£";break;case"CAD":o="C$";break;case"AUD":o="A$";break;case"CNY":o="￥";break;default:o=i+"$"}return o+(e*a).toFixed(2)}),Vue.filter("formatNumberFixed",function(e,t){return Number(e).toFixed(t)}),Vue.filter("isShowFree",function(e){return 0===Number(e)?"Free":e}),Vue.filter("encodeURIString",function(e){return encodeURIComponent(e)}),Vue.filter("filterSku",function(e,t){var i="",a=/^(508)/;return i=e&&a.test(e)?t:!e&&t?t:e}),Vue.component("upload-box",{template:"#upload-box",props:["data"],data:function(){return{msg:"hey World.ZIP",fileInfo:{fileID:0,fileName:"",fileNumber:"",gerberWidth:0,gerberLength:0,gerberLayer:0},bomToken:{},fileKey:"",gerberViewLink:"",isUploading:!1,isShowResult:!1,isGerberTips:!0}},ready:function(){this.createWebUpload(this.data.type)},methods:{setPcbInfo:function(e){this.gerberViewLink="gerber-view.html?sn="+e.data.file_info.key,this.fileInfo.fileName=e.data.file_name,this.fileInfo.fileNumber=e.data.file_id,this.fileInfo.gerberWidth=10*e.data.file_info.width,this.fileInfo.gerberLength=10*e.data.file_info.height,this.fileInfo.gerberLayer=e.data.file_info.layercount},setBomInfo:function(e){var t=this;t.fileInfo.bomToken=e.data.bom_key,setTimeout(function(){t.$dispatch("BOM_file_ready",t.fileInfo)},5e3)},createWebUpload:function(e){var t=this,i=this.data.api,a=20971520,o=!1;upload_file_type={title:"files",extensions:"rar,zip",mimeTypes:".rar,.zip"},("BOM"==this.data.type||this.data.type.indexOf("BOM")>=0)&&(upload_file_type={title:"files",extensions:"csv,xls,xlsx",mimeTypes:".csv,.xls,.xlsx"}),"3DPrint"==this.data.type&&(upload_file_type={title:"files",extensions:"stl",mimeTypes:".stl"},a=20971520),"pcbLayout"==this.data.type&&(a=20971520),"TEST_PLAN"==this.data.type&&(a=20971520),"CNC"==this.data.type&&(a=20971520);var n=WebUploader.create({auto:!0,swf:baseURL+"/js/plugin/webuploader-0.1.5/Uploader.swf",server:i,pick:"#btn-upload-"+e,fileSingleSizeLimit:a,duplicate:!0,accept:upload_file_type,multiple:!1});n.on("uploadBeforeSend",function(t,i){dataLayer.push({event:"UploadClick-Fusion",module:e})}),n.on("fileQueued",function(e){t.isUploading=!0,t.isShowResult=!1,t.isGerberTips=!1}),n.on("uploadProgress",function(e,i){if(o)return!1;o=!0;var a=5;t.data.is_warn=!1;var n=setInterval(function(){a+=5,t.data.progress_ccount=a,90==a&&(clearInterval(n),t.data.progress_ccount=90)},500)}),n.on("uploadSuccess",function(i,a){dataLayer.push({event:"UploadComplete-Fusion",module:e}),o=!1;var n=JSON.parse(a._raw);("PCB"==t.data.type||t.data.type.indexOf("PCB")>=0)&&t.setPcbInfo(n),("OTHER"==t.data.type||t.data.type.indexOf("OTHER")>=0)&&0==a.code&&(t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileNumber=n.data.file_id,t.fileInfo.fileUrl=n.data.file_url),("BOM"==t.data.type||t.data.type.indexOf("BOM")>=0)&&(0==a.code?(t.fileInfo.fileName=i.name,t.fileInfo.bomToken=n.data.bom_key,t.fileInfo.supportServer=n.data.support_server,t.fileInfo.supportServerDefault=n.data.support_server_default,t.fileInfo.code=0):(t.resetUploadBar(),t.fileInfo=n)),"STENCIL"!=t.data.type&&"TEST_PLAN"!=t.data.type&&"CNC"!=t.data.type||(t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileNumber=n.data.file_id),"3DPrint"==t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.coordinate=n.data.coordinate,t.fileInfo.coordinate.is_binary=n.data.is_binary,t.fileInfo.coordinate.file_url=n.data.file_url),"pcbLayout"==t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileList=n.data.file_info.file_list),("propagate-packaging"==t.data.type||t.data.type.indexOf("propagate-mould")>=0)&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name),"KIT_PRINT"===t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileUrl=n.data.file_url),"KIT_PACKAGE"===t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileUrl=n.data.file_url),t.isShowResult=!0}),n.on("uploadError",function(t){dataLayer.push({event:"UploadFailed-Fusion",module:e})}),n.on("uploadComplete",function(e){t.isUploading=!1,("PCB"==t.data.type||t.data.type.indexOf("PCB")>=0)&&t.$dispatch("PCB_file_data",t.fileInfo),("OTHER"==t.data.type||t.data.type.indexOf("OTHER")>=0)&&t.$dispatch("OTHER_file_data",t.fileInfo),("BOM"==t.data.type||t.data.type.indexOf("BOM")>=0)&&t.$dispatch("BOM_file_ready",t.fileInfo),"STENCIL"==t.data.type&&t.$dispatch("STENCIL_file_data",t.fileInfo),"3DPrint"==t.data.type&&t.$dispatch("3D_file_data",t.fileInfo),"pcbLayout"==t.data.type&&t.$dispatch("PCB_layout_data",t.fileInfo),"propagate-packaging"==t.data.type&&t.$dispatch("packaging_upload_data",t.fileInfo),t.data.type.indexOf("propagate-mould")>=0&&t.$dispatch("mould_upload_data",t.fileInfo),"TEST_PLAN"==t.data.type&&t.$dispatch("PCBA_test_plan_data",t.fileInfo),"CNC"==t.data.type&&t.$dispatch("CNC_data",t.fileInfo),"KIT_PRINT"===t.data.type&&t.$dispatch("kit_print_data",t.fileInfo),"KIT_PACKAGE"===t.data.type&&t.$dispatch("kit_package_data",t.fileInfo)})},resetUploadBar:function(){this.isUploading=!1,this.isShowResult=!1,this.progress_ccount=0}},watch:{}}),Vue.component("upload-box-long",{template:"#upload-box-long",props:["data"],data:function(){return{msg:"hey World.ZIP",fileInfo:{fileID:0,fileName:"",fileNumber:"",gerberWidth:0,gerberLength:0,gerberLayer:0},bomToken:{},fileKey:"",gerberViewLink:"",isUploading:!1,isShowResult:!1,isGerberTips:!0}},ready:function(){this.createWebUpload(this.data.type)},methods:{setPcbInfo:function(e){this.gerberViewLink="gerber-view.html?sn="+e.data.file_info.key,this.fileInfo.fileName=e.data.file_name,this.fileInfo.fileNumber=e.data.file_id,this.fileInfo.gerberWidth=10*e.data.file_info.width,this.fileInfo.gerberLength=10*e.data.file_info.height,this.fileInfo.gerberLayer=e.data.file_info.layercount},setBomInfo:function(e){var t=this;t.fileInfo.bomToken=e.data.bom_key,setTimeout(function(){t.$dispatch("BOM_file_ready",t.fileInfo)},5e3)},createWebUpload:function(e){var t=this,i=this.data.api,a=20971520,o=!1;upload_file_type={title:"files",extensions:"rar,zip",mimeTypes:".rar,.zip"},("BOM"==this.data.type||this.data.type.indexOf("BOM")>=0)&&(upload_file_type={title:"files",extensions:"csv,xls,xlsx",mimeTypes:".csv,.xls,.xlsx"}),"3DPrint"==this.data.type&&(upload_file_type={title:"files",extensions:"stl",mimeTypes:".stl"},a=20971520),"pcbLayout"==this.data.type&&(a=20971520),"TEST_PLAN"==this.data.type&&(a=20971520),"CNC"==this.data.type&&(a=20971520);var n=WebUploader.create({auto:!0,swf:baseURL+"/js/plugin/webuploader-0.1.5/Uploader.swf",server:i,pick:"#btn-upload-"+e,fileSingleSizeLimit:a,duplicate:!0,accept:upload_file_type,multiple:!1});n.on("uploadBeforeSend",function(t,i){dataLayer.push({event:"UploadClick-Fusion",module:e})}),n.on("fileQueued",function(e){t.isUploading=!0,t.isShowResult=!1,t.isGerberTips=!1}),n.on("uploadProgress",function(e,i){if(o)return!1;o=!0;var a=5;t.data.is_warn=!1;var n=setInterval(function(){a+=5,t.data.progress_ccount=a,90==a&&(clearInterval(n),t.data.progress_ccount=90)},500)}),n.on("uploadSuccess",function(i,a){dataLayer.push({event:"UploadComplete-Fusion",module:e}),o=!1;var n=JSON.parse(a._raw);("PCB"==t.data.type||t.data.type.indexOf("PCB")>=0)&&t.setPcbInfo(n),("OTHER"==t.data.type||t.data.type.indexOf("OTHER")>=0)&&0==a.code&&(t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileNumber=n.data.file_id,t.fileInfo.fileUrl=n.data.file_url),("BOM"==t.data.type||t.data.type.indexOf("BOM")>=0)&&(0==a.code?(t.fileInfo.fileName=i.name,t.fileInfo.bomToken=n.data.bom_key,t.fileInfo.supportServer=n.data.support_server,t.fileInfo.supportServerDefault=n.data.support_server_default,t.fileInfo.code=0):(t.resetUploadBar(),t.fileInfo=n)),"STENCIL"!=t.data.type&&"TEST_PLAN"!=t.data.type&&"CNC"!=t.data.type||(t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileNumber=n.data.file_id),"3DPrint"==t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.coordinate=n.data.coordinate,t.fileInfo.coordinate.is_binary=n.data.is_binary,t.fileInfo.coordinate.file_url=n.data.file_url),"pcbLayout"==t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileList=n.data.file_info.file_list),("propagate-packaging"==t.data.type||t.data.type.indexOf("propagate-mould")>=0)&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name),"KIT_PRINT"===t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileUrl=n.data.file_url),"KIT_PACKAGE"===t.data.type&&(t.fileInfo.fileID=n.data.file_id,t.fileInfo.fileName=n.data.file_name,t.fileInfo.fileUrl=n.data.file_url),t.isShowResult=!0}),n.on("uploadError",function(t){dataLayer.push({event:"UploadFailed-Fusion",module:e})}),n.on("uploadComplete",function(e){t.isUploading=!1,("PCB"==t.data.type||t.data.type.indexOf("PCB")>=0)&&t.$dispatch("PCB_file_data",t.fileInfo),("OTHER"==t.data.type||t.data.type.indexOf("OTHER")>=0)&&t.$dispatch("OTHER_file_data",t.fileInfo),("BOM"==t.data.type||t.data.type.indexOf("BOM")>=0)&&t.$dispatch("BOM_file_ready",t.fileInfo),"STENCIL"==t.data.type&&t.$dispatch("STENCIL_file_data",t.fileInfo),"3DPrint"==t.data.type&&t.$dispatch("3D_file_data",t.fileInfo),"pcbLayout"==t.data.type&&t.$dispatch("PCB_layout_data",t.fileInfo),"propagate-packaging"==t.data.type&&t.$dispatch("packaging_upload_data",t.fileInfo),t.data.type.indexOf("propagate-mould")>=0&&t.$dispatch("mould_upload_data",t.fileInfo),"TEST_PLAN"==t.data.type&&t.$dispatch("PCBA_test_plan_data",t.fileInfo),"CNC"==t.data.type&&t.$dispatch("CNC_data",t.fileInfo),"KIT_PRINT"===t.data.type&&t.$dispatch("kit_print_data",t.fileInfo),"KIT_PACKAGE"===t.data.type&&t.$dispatch("kit_package_data",t.fileInfo)})},resetUploadBar:function(){this.isUploading=!1,this.isShowResult=!1,this.progress_ccount=0}},watch:{}}),Vue.component("pop-modal",{props:["popData"],template:"#pop-modal",data:function(){return{showState:this.popData.isShow}},created:function(){},methods:{},watch:{popData:{handler:function(){var e=this;this.popData.isShow&&setTimeout(function(){e.popData.isShow=!1},2200)},deep:!0}}}),Vue.component("pop-full-modal",{template:"#pop-full-modal",props:["popData"],data:function(){return{}},created:function(){},methods:{}}),Vue.component("pop-action-modal",{template:"#pop-action-modal",props:["popData"],data:function(){return{}},created:function(){},methods:{cancelPop:function(){this.popData.isActionModalShow=!1,this.popData.actionModalOption.cancelAction&&this.$dispatch("popCancel",this.popData.actionModalOption)},confirmPop:function(){this.popData.isActionModalShow=!1,this.$dispatch("popComfirn",this.popData.actionModalOption)}}}),Vue.component("pop-action-login-modal",{template:"#pop-action-login-modal",props:["popData","id","redirect"],data:function(){return{}},created:function(){},watch:{id:function(e,t){e&&this.doLogin()}},methods:{doLogin:function(){var e,t,i,a,o=$("#email"),n=$("#password"),s=$("#type"),r=o.next(),c=n.next();o.on("focus",function(){r.addClass("hide")}),n.on("focus",function(){c.addClass("hide")}),$("body").on("focusout focusin",".input",function(e){var t=$(this);"focusout"==e.type&&t.css("border-color","#f1f1f1"),"focusin"==e.type&&t.css("border-color","#4a4a4a")}),o.on("blur",function(){e=o.val();e?i=1:r.removeClass("hide").text("メールアドレスを入力してください").addClass("animated shake")}),n.on("blur",function(){a=0,t=n.val(),t?a=1:c.removeClass("hide").addClass("animated shake")}),$.cookie("nick")?o.val(decodeURIComponent($.cookie("nick"))):(o.val(""),n.val("")),$(".js-login").on("click",function(){if(dataLayer.push({SignInType:"Email",event:"SignInClick-Fusion"}),o.trigger("blur"),n.trigger("blur"),!i)return!1;if(!a)return!1;if($(".js-remember-me").is(":checked")&&o.val()&&$.cookie("nick",encodeURIComponent(o.val()),{expires:7}),1==i&&1==a){var l=seeedApiURL.newLogin,p={password:t,email:e};startAjax(l,p,function(e){var t=e.code,i=e.msgs;if(0==t){if(e.data||(e.data=e.user),12!=e.data.role_id){var a=new Date;a.setTime(a.getTime()+864e5),$.cookie("seeedName",e.data.nickname,{expires:a})}else $.cookie("seeedName","",{expires:-1});$.cookie("seeedEmail")&&decodeURIComponent($.cookie("seeedEmail"))!=o.val()&&$.cookie("arrivalTipEmail","",{expires:-1}),$.cookie("seeedEmail",e.data.email,{expires:7}),dataLayer.push({SignInType:"Email",event:"SignInSucceeded-Fusion"}),setTimeout(function(){location.href=s.val()+".html"},100)}else dataLayer.push({SignInType:"Email",SignInFailed:e.message,event:"SignInFailed-Fusion"});if(3002==t){if("email not exist"==i)return r.removeClass("hide").text(i).addClass("animated shake"),!1}else 3003==t?"email or password not right"==i&&c.removeClass("hide").text(i).addClass("animated shake"):3013==t&&r.removeClass("hide").text(i).addClass("animated shake");if(3==t){if("Email is error."==i)return r.removeClass("hide").text("Account does not exist").addClass("animated shake"),!1;if("psw_error"==i)return c.removeClass("hide").addClass("animated shake"),!1}else if(6==t){if("Email address not registered"==i)return r.removeClass("hide").text(i).addClass("animated shake"),!1;if("Password mistake"==i)return c.removeClass("hide").text(i).addClass("animated shake"),!1}if(5==t)return c.removeClass("hide").text(i).addClass("animated shake"),!1})}return!1}),$(".input").on("keyup",function(e){13==e.keyCode&&$(".js-login").trigger("click")}),$(".js-remember-me").on("click",function(){e=encodeURIComponent(o.val()),$(".js-remember-me").is(":checked")?$.cookie("nick",e):$.cookie("nick","",{expires:-1})})},cancelPop:function(){this.popData.isLoginActionModalShow=!1,this.popData.actionModalOption.cancelAction&&this.$dispatch("popCancel",this.popData.actionModalOption)},confirmPop:function(){this.popData.isLoginActionModalShow=!1,this.$dispatch("popComfirn",this.popData.actionModalOption)},closeLoginModal:function(){this.popData.isLoginActionModalShow=!1}}}),Vue.component("pop-5free-action-modal",{template:"#pop-5free-action-modal",props:["popData"],data:function(){return{}},created:function(){},methods:{cancelPop:function(){this.popData.is5FreeActionModalShow=!1,this.popData.actionModalOption.cancelAction&&this.$dispatch("popCancel",this.popData.actionModalOption)},confirmPop:function(){this.popData.is5FreeActionModalShow=!1,this.$dispatch("popComfirn",this.popData.actionModalOption)}}}),Vue.component("pop-confirm-modal",{template:"#pop-confirm-modal",props:["popData"],data:function(){return{}},created:function(){},methods:{closePop:function(){this.popData.isConfirmModalShow=!1,this.popData.isSetBtnText=""},confirmPop:function(){this.popData.isConfirmModalShow=!1,this.popData.confirmModalHtml="",this.popData.isSetBtnText="",void 0!=this.popData.actionModalOption&&"bomTips"!=this.popData.actionModalOption.type&&this.$dispatch("popComfirn",this.popData.actionModalOption)}}}),Vue.component("pop-loading-modal",{template:"#pop-loading-modal",props:["popData"],data:function(){return{}},created:function(){},methods:{}}),Vue.component("seeed-editor",{props:["editorOption"],template:"#common-editor",data:function(){return{editor:{},editorWidth:0,editorHeight:0,editorContent:""}},created:function(){this.editorWidth=this.editorOption.width||800,this.editorHeight=this.editorOption.height||400},ready:function(){this.createdEditor()},methods:{createdEditor:function(){var e=this;this.editor=new wangEditor("my-editer"),this.editor.config.menus=["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","|","img","video","insertcode","|","undo","redo","fullscreen"],this.editor.config.lang=wangEditor.langs.en,this.editor.config.menuFixed=!1,this.editor.config.pasteText=!0,this.editor.config.uploadImgUrl="https://s3.seeedstudio.com/upload/responseUrl?source=seeed_img",this.editor.config.withCredentials=!1,this.editor.onchange=function(){e.editorContent=this.$txt.html()},this.editor.create()}},events:{sentEditorContent:function(e){this.$dispatch("editorContent",this.editorContent)},setEditorContent:function(e){this.editor.$txt.html(e)}},watch:{}}),Vue.component("seeed-login",{props:["data"],template:"#common-login",data:function(){return{msg:"hi pc",email:"",password:"",isCheck:!1,tips:"",successData:{}}},created:function(){},ready:function(){},methods:{login:function(){var e=this;if(!this.email.trim())return this.tips="Please enter email address",this.isCheck=!0,!1;if(!this.password)return this.tips="Please enter password",this.isCheck=!0,!1;var t=apiRoot+"index.php?r=common/login/login",i="password="+this.password+"&email="+this.email+"&source=1&guid="+getUserGuid();startAjax(t,i,function(t){0==t.errorcode&&(e.successData.state=!0,e.successData.type=e.data.type,e.closeLogin(e.successData))})},closeLogin:function(e){this.$dispatch("commonLoginSuccess",e),this.data.isShow=!1}}}),Vue.component("like-it",{props:["data"],template:"#like-button",data:function(){return{isLiked:!1,isAnimeted:!1,hasClick:!1}},created:function(){},ready:function(){},methods:{likeIt:function(){var e=this;return!e.hasClick&&void startAjax(seeedApiURL.gallerySetNumPort+getRealToken(!1),"id="+this.data.id+"&type=1",function(t){0==t.code&&(e.data.count=++e.data.count,e.isAnimeted=!0,setTimeout(function(){e.isAnimeted=!1},500)),e.hasClick=!0})}}}),Vue.component("pcb-param",{props:["pcbData","getType"],template:"#param-list",data:function(){return{msg:"hello vaan",this_pcb:{pcb_dimension_h:{},pcb_dimension_w:{},pcb_qty:{},pcb_panelized:{},pcb_layer:{},pcb_thickness:{},pcb_color:{},pcb_surface:{},pcb_min_solder_mask_dam:{},pcb_copper:{},pcb_half_hole:{},pcb_min_hole:{},pcb_min_tracking_spacing:{},pcb_blind_vias:{},pcb_impedance:{},pcb_free_dhl:{},expedited_option_data:{},pcb_price:0,pcb_org_price:"",pcb_weight:0,pcb_build_time:0,pcb_size_error:!1},pcb_show_qty_list:!0,gerber_layer:0,gerber_width:0,gerber_length:0,isSizeWarn:!1,isLengthWarn:!1,isWidthWarn:!1,sizeWarnTips:"",isExpedited:2,isReOrderState:!0,kit_qty:10,isComputed1:!1,isComputed2:!1,isComputed3:!1}},created:function(){var e=this;setTimeout(function(){e.pcdata=e.pcbData},2e3);var t=setInterval(function(){if(""!=e.pcbData.toString()){clearInterval(t);for(var i in e.pcbData)for(var a in e.pcbData[i])1==e.pcbData[i][a].state&&(e.this_pcb["pcb_"+i]=e.pcbData[i][a]);e.changeDimensionValue(),e.this_pcb.pcb_type=e.pcbData.pcb_type,window.fusion.commonState.kitServicePcb||e.getPcbPrice()}},200)},ready:function(){$(document).on("mouseup",function(e){var t=$(".j-qty-list");t.is(e.target)||0!==t.has(e.target).length||t.addClass("hide")})},methods:{showPcbQtyList:function(){$(".j-qty-list").removeClass("hide")},setPcbLayer:function(e){var t=this;this.this_pcb.pcb_layer=e,this.getPcbParamData(this.pcbData.pcb_type,e.value,function(e){e.pcb_type=t.pcbData.pcb_type,e.gerber_layer=t.gerber_layer,e.gerber_width=t.gerber_width,e.gerber_length=t.gerber_length,t.$dispatch("PCB_param_change",e);for(var i in e)for(var a in e[i])1==e[i][a].state&&(t.this_pcb["pcb_"+i]=e[i][a]);t.this_pcb.pcb_dimension_w.value=10*t.this_pcb.pcb_dimension_w.value,t.this_pcb.pcb_dimension_h.value=10*t.this_pcb.pcb_dimension_h.value,window.fusion.commonState.kitServicePcb&&(t.this_pcb.pcb_qty.value=t.kit_qty),t.getPcbPrice()})},changeDimensionValue:function(){1!==this.pcbData.pcb_type||this.isComputed1||(this.this_pcb.pcb_dimension_w.value=10*this.this_pcb.pcb_dimension_w.value,this.this_pcb.pcb_dimension_h.value=10*this.this_pcb.pcb_dimension_h.value,this.isComputed1=!0),2!==this.pcbData.pcb_type||this.isComputed2||(this.this_pcb.pcb_dimension_w.value=10*this.this_pcb.pcb_dimension_w.value,this.this_pcb.pcb_dimension_h.value=10*this.this_pcb.pcb_dimension_h.value,this.isComputed2=!0),3!==this.pcbData.pcb_type||this.isComputed3||(this.this_pcb.pcb_dimension_w.value=10*this.this_pcb.pcb_dimension_w.value,this.this_pcb.pcb_dimension_h.value=10*this.this_pcb.pcb_dimension_h.value,this.isComputed3=!0)},setThickness:function(e,t){return!$(t.target).hasClass("selecter-disable")&&(this.this_pcb.pcb_thickness=e,void this.getPcbPrice())},setPanelized:function(e){this.this_pcb.pcb_panelized=e,this.getPcbPrice()},setPcbQty:function(e){this.this_pcb.pcb_qty=e,$(".j-qty-list").addClass("hide"),this.getPcbPrice()},setPcbColor:function(e,t){return 2!=t&&(this.this_pcb.pcb_color=e,void this.getPcbPrice())},setPcbSurface:function(e,t){return 2!=t&&(this.this_pcb.pcb_surface=e,void this.getPcbPrice())},setPcbSolderMask:function(e,t){return 2!=t&&(this.this_pcb.pcb_min_solder_mask_dam=e,void this.getPcbPrice())},setPcbCopper:function(e,t){if(2==t)return!1;this.this_pcb.pcb_copper=e;var i=this,a=($(".pcb-min-hole-size"),$(".pcb-min-tracking"));return 1==this.this_pcb.pcb_type&&(2==i.this_pcb.pcb_copper.value?a.find(".j-ser").each(function(e){var t=$(this);t.removeClass("selecter-disable"),3==e||4==e?(t.hasClass("selecter-on")&&t.removeClass("selecter-on"),t.addClass("selecter-disable")):t.removeClass("selecter-disable"),a.find(".j-ser:eq(2)").addClass("selecter-on"),i.this_pcb.pcb_min_tracking_spacing={name:"6/6mil",value:3}}):3==i.this_pcb.pcb_copper.value?(a.find(".j-ser").each(function(e){var t=$(this);3!=e?(t.hasClass("selecter-on")&&t.removeClass("selecter-on"),t.addClass("selecter-disable")):t.removeClass("selecter-disable").addClass("selecter-on")}),i.this_pcb.pcb_min_hole={name:"0.3mm",value:3},i.this_pcb.pcb_min_tracking_spacing={name:"10/10mil",value:4}):4==i.this_pcb.pcb_copper.value&&(a.find(".j-ser").each(function(e){var t=$(this);4!=e?(t.hasClass("selecter-on")&&t.removeClass("selecter-on"),t.addClass("selecter-disable")):t.removeClass("selecter-disable").addClass("selecter-on")}),i.this_pcb.pcb_min_hole={name:"0.3mm",value:3},i.this_pcb.pcb_min_tracking_spacing={name:"15/15mil",value:5}),void this.getPcbPrice())},setPcbHalfHole:function(e,t){return 2!=t&&(this.this_pcb.pcb_half_hole=e,void this.getPcbPrice())},setPcbMinHole:function(e,t,i){return 2!=t&&!$(i.target).hasClass("selecter-disable")&&(this.this_pcb.pcb_min_hole=e,void this.getPcbPrice())},setPcbImpedance:function(e,t){return 2!=t&&(this.this_pcb.pcb_impedance=e,void this.getPcbPrice())},setPcbMinTrackingSpacing:function(e,t,i){return 2!=t&&!$(i.target).hasClass("selecter-disable")&&(this.this_pcb.pcb_min_tracking_spacing=e,void this.getPcbPrice())},setPcbBlindVias:function(e,t){return 2!=t&&(this.this_pcb.pcb_blind_vias=e,void this.getPcbPrice())},numberFormat:function(e){var t=e.target;t.value=t.value.replace(/[^\d.]/g,""),t.value=t.value.replace(/^\./g,""),t.value=t.value.replace(/\.{2,}/g,"."),t.value=t.value.replace(".","$#$").replace(/\./g,"").replace("$#$",".")},userInputAction:function(e,t){fusion.commonState.isEditedGerberSize=!0,this.dimensionsCheck(e,t)},dimensionsCheck:function(e,t){var i=this,e=Number(e);if(1==this.this_pcb.pcb_type){if(e<10||e>500)return"length"==t&&(i.isLengthWarn=!0),"width"==t&&(i.isWidthWarn=!0),i.sizeWarnTips="The rang of FR4 is from 10mm to 500mm;",i.isSizeWarn=!0,i.this_pcb.pcb_size_error=!0,!1;"length"==t&&(i.isLengthWarn=!1),"width"==t&&(i.isWidthWarn=!1)}if(2==this.this_pcb.pcb_type){if(e<10||e>300)return"length"==t&&(i.isLengthWarn=!0),"width"==t&&(i.isWidthWarn=!0),i.sizeWarnTips="The rang of Aluminum is from 10mm to 300mm; ",i.isSizeWarn=!0,i.this_pcb.pcb_size_error=!0,!1;"length"==t&&(i.isLengthWarn=!1),"width"==t&&(i.isWidthWarn=!1)}if(3==this.this_pcb.pcb_type){if(e<1||e>230)return"length"==t&&(i.isLengthWarn=!0),"width"==t&&(i.isWidthWarn=!0),i.sizeWarnTips="The rang of Flexible Circuit Board is from 1mm to 230mm; ",i.isSizeWarn=!0,i.this_pcb.pcb_size_error=!0,!1;"length"==t&&(i.isLengthWarn=!1),"width"==t&&(i.isWidthWarn=!1)}i.isLengthWarn||i.isWidthWarn||(i.isSizeWarn=!1,i.this_pcb.pcb_size_error=!1,this.getPcbPrice())},getPcbParamString:function(){var e="impedance="+this.this_pcb.pcb_impedance.value+"&surface="+this.this_pcb.pcb_surface.value+"&min_solder_mask_dam="+this.this_pcb.pcb_min_solder_mask_dam.value+"&copper="+this.this_pcb.pcb_copper.value+"&half_hole="+this.this_pcb.pcb_half_hole.value+"&min_hole="+this.this_pcb.pcb_min_hole.value+"&color="+this.this_pcb.pcb_color.value+"&board="+this.pcbData.pcb_type+"&layer="+this.this_pcb.pcb_layer.value+"&qty="+this.this_pcb.pcb_qty.value+"&blind_vias="+ +this.this_pcb.pcb_blind_vias.value+"&thickness="+this.this_pcb.pcb_thickness.value+"&min_tracking_spacing="+this.this_pcb.pcb_min_tracking_spacing.value+"&panelized="+this.this_pcb.pcb_panelized.value+"&dimension_w="+this.this_pcb.pcb_dimension_w.value/10+"&dimension_h="+this.this_pcb.pcb_dimension_h.value/10;return e+="&expedited_option="+this.isExpedited},getPcbPrice:function(){var e=this,t=seeedApiURL.getPcbPrice+"?lang="+FUSION_LANG,i=this.getPcbParamString()+"&project="+PROJECT_TYPE;return 0!=this.pcb_length&&0!=this.pcb_width&&void startAjax(t,i,function(t){0==t.code&&(e.this_pcb.pcb_build_time=t.data.build_time,e.this_pcb.pcb_price=t.data.price,e.this_pcb.pcb_weight=t.data.weight,e.this_pcb.pcb_org_price=t.data.price_original,e.this_pcb.expedited_option_data=t.data.expedited_option,1!=e.isExpedited?e.$dispatch("PCB_reset_expedited_cost"):e.isExpedited=2)})},getPcbParamData:function(e,t,i){var a=this,o="board="+e+"&layer="+t+"&format=2";1==a.getType&&(o+="&project=1"),startAjax(seeedApiURL.getPcbParam+"?lang="+FUSION_LANG,o,function(e){0==e.code&&i&&i(e.data)})},setDimensionsByGerber:function(){this.this_pcb.pcb_dimension_h.value=this.gerber_length,this.this_pcb.pcb_dimension_w.value=this.gerber_width,this.dimensionsCheck(this.this_pcb.pcb_dimension_h.value,"length"),this.dimensionsCheck(this.this_pcb.pcb_dimension_w.value,"width"),this.getPcbPrice()}},computed:{},events:{chooseExpedited:function(e){e.nowType==this.pcbData.pcb_type&&(this.isExpedited=e.value,this.getPcbPrice())},bomOpenState:function(e,t){t==this.pcbData.pcb_type&&e&&(this.isExpedited=2,this.getPcbPrice())},setGerberData:function(e){var t=this;if(1==this.pcbData.pcb_type&&e.gerber_layer&&this.this_pcb.pcb_layer.value!=e.gerber_layer){var i={value:e.gerber_layer,name:e.gerber_layer+" Layers",state:3};this.setPcbLayer(i)}setTimeout(function(){return t.pcbData.pcb_type==window.fusion.commonState.currentOrderPcbType&&(0==e.gerber_length||0==e.gerber_width?(t.gerber_length=100,t.gerber_width=100):(t.gerber_length=e.gerber_length,t.gerber_width=e.gerber_width),void(fusion.commonState.isEditedGerberSize||(t.gerber_length<500&&t.gerber_width<500?t.setDimensionsByGerber():(t.this_pcb.pcb_dimension_h.value=100,t.this_pcb.pcb_dimension_w.value=100,t.getPcbPrice()))))},100)},checkPcbDimensions:function(e){e==this.pcbData.pcb_type&&this.dimensionsCheck(0,"length")},change_pcb_qty:function(e,t,i){this.this_pcb.pcb_qty.value=e,this.kit_qty=e,!t&&this.pcbData.pcb_type&&i&&this.getPcbPrice()}},watch:{this_pcb:{handler:function(){this.$dispatch("PCB_param_data",this.this_pcb)},deep:!0},pcbData:{handler:function(){var e=this,t=setInterval(function(){""!=e.pcbData.toString()&&(clearInterval(t),e.this_pcb.pcb_type=e.pcbData.pcb_type,window.fusion.commonState.kitServicePcb||e.getPcbPrice())},200)}},gerber_layer_data:function(){var e=this;if(1!=this.pcbData.pcb_type)return!1;if(0!=this.pcbData.gerber_layer&&this.this_pcb.pcb_layer.value!=this.pcbData.gerber_layer){var t={value:this.pcbData.gerber_layer,name:this.pcbData.gerber_layer+" Layers",state:3};if(getQuery("id")&&getQuery("bomsource")&&e.isReOrderState)return e.isReOrderState=!1,!1;this.setPcbLayer(t)}}}});var fusion={init:function(){fusion.webDomAction(),fusion.statistical(),fusion.distributorsProcessing()},bus:new Vue,pcb:function(){fusion.fusionAction()},stencil:function(){fusion.stencilAction()},do3dPrinting:function(){fusion.do3dPrintingAction()},opl:function(){fusion.oplAction()},layout:function(){fusion.pcbLayoutAction()},galleryOrder:function(){fusion.galleryOrderAction()},galleryPublish:function(){fusion.galleryPublishAction()},advancePcb:function(){fusion.advancePcbAction()},cnc:function(){fusion.cncAction()},kittingService:function(){fusion.kittingAction()},commonState:{isGalleryAtttUploading:!1,isUploadingGalleryCoverImage:!1,isEditedGerberSize:!1,currentOrderPcbType:0,kitServicePcb:!1}};fusion.webDomAction=function(){$(function(){var e=$("body");e.on("click",".j-ser",function(){var e=$(this);return e.hasClass("selecter-disable")||e.addClass("selecter-on").siblings(".j-ser").removeClass("selecter-on"),!1}),e.on("mouseover",".j-help",function(){var e=$(this),t=e.closest(".row").find(".option-detail");"price-list"==e.attr("data-type")&&(t=e.prev().find(".option-detail")),t.fadeIn(100).addClass("j-on-show")}),e.on("mouseleave",".j-help",function(){var e=$(this),t=e.closest(".row").find(".option-detail");"price-list"==e.attr("data-type")&&(t=e.prev().find(".option-detail")),setTimeout(function(){t.hasClass("j-on-show")&&t.hide()},1e3)}),e.on("mouseover",".j-tips",function(){var e=$(this),t=e.children(".option-detail");t.fadeIn(100).addClass("j-on-show")}),e.on("mouseleave",".j-tips",function(){var e=$(this),t=e.children(".option-detail");setTimeout(function(){t.hasClass("j-on-show")&&t.hide()},500)}),e.on("mouseleave",".option-detail",function(){$(this).hide()}),e.on("mouseover",".option-detail",function(){$(this).removeClass("j-on-show")});var t=$(".j-p-list");$(".j-pcb-material").on("click",".j-ser",function(){var e=$(this),i=e.index();return!e.hasClass("selecter-disable")&&void t.eq(i).fadeIn(100).siblings(".j-p-list").hide()});var i=setInterval(function(){if($("#fusion-flag").length>0){clearInterval(i);var t=setInterval(function(){if($(".uv_customer").length>0){clearInterval(t),$(".uv_customer").hide().remove(),$(".uv-icon").remove();var i='<a class="rootbot-link" href="http://v3.faqrobot.org/robot/chatEn.html?sysNum=150942096386523192&lan=en" target="_blank"><span class="text">Contact Support</span></a>';e.append(i)}},100)}},100)})},fusion.createUploader=function(e,t){var i=20971520,a={title:"files",extensions:"jpg,png,bmp,jpeg",mimeTypes:".jpg,.png,.bmp,.jpeg"};"file"==e.type&&(a={title:"files",extensions:"rar,zip,csv,stl,pdf,xlsx,xls,rtf,doc,odt,docx",mimeTypes:".rar,.zip,.csv,.stl,.pdf,.xlsx,.xls,.rtf,.doc,.odt,.docx"}),"image"==e.type&&(a={title:"files",extensions:"jpg,png,gif,bmp,tif,jpeg",mimeTypes:".jpg,.png,.gif,.bmp,.tif,.jpeg"});var o=WebUploader.create({auto:!0,swf:baseURL+"/js/plugin/webuploader-0.1.5/Uploader.swf",server:e.api,pick:e.id,fileSingleSizeLimit:i,duplicate:!0,accept:a,multiple:!1,formData:{source:"soucre=seeed_img"}});o.on("fileQueued",function(t){switch(e.form){case"gallery-att":fusion.commonState.isGalleryAtttUploading=!0;break;case"gallery-cover":fusion.commonState.isUploadingGalleryCoverImage=!0}}),o.on("uploadProgress",function(e,t){}),o.on("uploadSuccess",function(e,i){dataLayer.push({event:"UploadComplete-Fusion"}),t&&t(e,i)}),o.on("error",function(e){}),o.on("uploadError",function(e){dataLayer.push({event:"UploadFailed-Fusion"})}),o.on("uploadComplete",function(t){switch("gallery-att"==e.form&&(fusion.commonState.isGalleryAtttUploading=!1),e.form){case"gallery-att":fusion.commonState.isGalleryAtttUploading=!1;break;case"gallery-cover":fusion.commonState.isUploadingGalleryCoverImage=!1}})},fusion.positionWarining=function(e){var t=Number($(e).offset().top)-100;$("body, html").animate({scrollTop:t},500)},fusion.getFusionLanguage=function(e){
var t=seeedApiURL.getFusionLanguage+getRealToken(!1);startAjax(t,"page_key="+PAGE_KEY,function(t){if(0==t.code){var i="",a=$(".j-f-l-list");for(var o in t.data)i+='<li class="j-lang-value" data-type="'+t.data[o]+'" data-lang="'+o+'">'+o+"</li>";a.append(i),a.find("li").on("click",function(){var e=$(this);$.cookie("local_lang",e.attr("data-type")),$.cookie("local_lang_type",e.attr("data-lang")),window.location.reload()})}e&&e(t)})},fusion.setLazyload=function(e){var t={target:"body",hook:".j-lazy",image:"//statics3.seeedstudio.com/assets/img/bazaar/default_pic.png"};e=e||t,$(e.hook).lazyload({effect:"fadeIn",placeholder:e.image}),$(document).on("DOMNodeInserted",e.target,function(t){var i=$(t.target);$(e.hook,i).lazyload({effect:"fadeIn",placeholder:e.image})})},fusion.statistical=function(){var e=!1,t=$("body");t.on("click","[data-event]",function(){var t=$(this);if("statistical"!=t.attr("data-event"))return!1;var i=t.attr("data-id"),a=t.attr("data-type"),o=0;"download"==a&&(o=2),startAjax(seeedApiURL.gallerySetNumPort+getRealToken(!1),"id="+i+"&type="+o,function(t){0==t.code&&(e=!0)});var n=setInterval(function(){if(e)return clearInterval(n),!0},200)})},fusion.createStaticURL=function(e,t){var i=new RegExp(/^[a-zA-Z0-9]+$/),a=[];return String(e).split("").forEach(function(e){i.test(e)?a.push(e):a.push(" ")}),a=a.join("").replace(/\s+/g,"-"),a.indexOf("-")||(a=a.slice(1)),a.lastIndexOf("-")==a.length-1&&(a=a.slice(0,a.lastIndexOf("-")-1)),window.location.origin+"/"+a+"-g-"+t},fusion.getDataByFile=function(e,t,i){var a="";switch(t){case"gerber":a=seeedApiURL.gerberUpload;break;case"bom":a=seeedApiURL.bomUpload}window.startAjax(a+"?type=1&source="+e,"",function(e){0==e.code&&i(e)})},fusion.distributorsProcessing=function(e){var t="distributors"===getQuery("source")&&void 0!=getQuery("ac");if(!t)return!1;var i=getQuery("ac");setTimeout(function(){t&&$("body").find("a").each(function(){var e=$(this),t=e.attr("href");if(t&&"#"!=t){var a=t.indexOf("?")>-1?"&source=distributors&ac="+i:"?source=distributors&ac="+i;e.attr("href",t+=a)}})},0),$.cookie("fusion_dis_track",i,{expires:.5,path:"/"})},fusion.init();