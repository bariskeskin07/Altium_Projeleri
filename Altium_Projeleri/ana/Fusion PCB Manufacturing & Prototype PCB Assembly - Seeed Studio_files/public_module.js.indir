function startAjax(e,t,o,i,a,n){function r(){return 4==environment?!(!$.cookie("sdnewtoken")||!$.cookie("sduserid")):1==environment?!(!$.cookie("token_local")||!$.cookie("uid_local")):!(!$.cookie("token_rel")||!$.cookie("uid_rel"))}a=a||"post";var s=e&&e.indexOf("?")>-1?e+"&appid=en.pc.bazaar":e+"?appid=en.pc.bazaar";if(!/[\?\&]token/.test(s)&&r()){var c=getNewToken(!0);c=c.indexOf("?")>-1?c.replace("?","&"):"&"+c,s+=c}return n&&(s=s&&s.indexOf("appid=en.pc.bazaar")>-1?s.replace(/en.pc.bazaar/g,"111"):s),$.ajax({type:a,url:s,data:t,dataType:"json",success:function(e){if(7==e.errorcode){switch(location.pathname){case"/":return o({})}location.pathname.indexOf("flash_sale.html")==-1}if(e.data&&e.data.access_token){var t=window.localStorage;t.setItem("sdtoken",e.data.access_token),t.setItem("sduserid",e.data.uid),$.cookie("sdtoken",e.data.access_token,{expires:7}),4==environment?$.cookie("sduserid",e.data.uid,{expires:7,domain:cookieDomain}):$.cookie("uid_"+cookieENV,e.data.uid,{expires:7,domain:cookieDomain})}if(e.token){var t=window.localStorage;t.setItem("sdnewtoken",e.token),t.setItem("sduserid",e.uid),setCookie(e.token,e.uid)}if(e.data&&e.data.token){var t=window.localStorage;t.setItem("sdnewtoken",e.data.token),t.setItem("sduserid",e.data.uid),setCookie(e.data.token,e.data.token)}o&&o(e)},error:function(e,t){i&&i(t)}})}function getRealToken(e){var t,o="",i=window.localStorage;if(i.getItem("sdnewguid")?t=i.getItem("sdnewguid"):(t=$.cookie("sdnewguid")?$.cookie("sdnewguid"):getGuid(),i.setItem("sdnewguid",t)),$.cookie("sdnewguid")?t=$.cookie("sdnewguid"):(t=i.getItem("sdnewguid")?i.getItem("sdnewguid"):getGuid(),$.cookie("sdnewguid",t,{expires:7})),e){var a=4==environment?$.cookie("sdtoken"):$.cookie("token_"+cookieENV),n=4==environment?$.cookie("sduserid"):$.cookie("uid_"+cookieENV);o=a&&n?"?access_token="+a+"&user_id="+n+"&guid="+t:"?guid="+t}else o="?guid="+t;return o}function getNewToken(e){var t,o="",i=window.localStorage;if(i.getItem("sdnewguid")?t=i.getItem("sdnewguid"):(t=$.cookie("sdnewguid")?$.cookie("sdnewguid"):getGuid(),i.setItem("sdnewguid",t)),$.cookie("sdnewguid")?t=$.cookie("sdnewguid"):(t=i.getItem("sdnewguid")?i.getItem("sdnewguid"):getGuid(),$.cookie("sdnewguid",t,{expires:7})),e){var a=4==environment?$.cookie("sdnewtoken"):$.cookie("token_"+cookieENV),n=4==environment?$.cookie("sduserid"):$.cookie("uid_"+cookieENV);o=a&&n?"?token="+a+"&user_id="+n+"&guid="+t:"?guid="+t}else o="?guid="+t;return o+"&appid=en.pc.bazaar"}function getRealTokenAppId(e,t){var o,e=e||"";return o=e.indexOf("?")>-1?getNewToken(t).replace("?","&"):getNewToken(t),o+="&appid=en.pc.bazaar"}function getUid(){var e=4==environment?$.cookie("sduserid"):$.cookie("uid_"+cookieENV);if(e)return e}function clearUserInfo(){var e=window.localStorage,t=4==environment?["sdtoken","sduserid","sdnewtoken"]:["sdtoken","uid_"+cookieENV,"token_"+cookieENV],o=4==environment?["nick","seeedName","seeedEmail","token","login_email","user_id","PHPSESSID","sdtoken","sduserid","sdnewtoken","nickname_"+cookieENV]:["nick","seeedName","seeedEmail","token","login_email","user_id","PHPSESSID","sdtoken","uid_"+cookieENV,"token_"+cookieENV,"nickname_"+cookieENV];t.forEach(function(t){e.removeItem(t)}),o.forEach(function(e){$.removeCookie(e,{domain:cookieDomain}),$.removeCookie(e,{domain:"www.seeedstudio.com"}),$.removeCookie(e,{domain:"www.seeedstudio.io"})})}function getRealTokenAppId(e,t){var o,e=e||"";return o=e.indexOf("?")>-1?getNewToken(t).replace("?","&"):getNewToken(t),o+="&appid=en.pc.bazaar"}function getUserGuid(){var e;return localStorage.getItem("sdnewguid")?e=localStorage.getItem("sdnewguid"):(e=$.cookie("sdnewguid")?$.cookie("sdnewguid"):getGuid(),localStorage.setItem("sdnewguid",e)),e}function getQuery(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(t);return null!=o?unescape(o[2]):null}function getQueryUrl(e){var t=window.location.pathname;t=unescape(t);var o=t.indexOf(e);if(o>-1){var i=t.substr(o+e.length);return i=i.substr(0,i.length-5)}return null}function getLocalhostUrl(){var e=window.location.pathname,t="";return e.lastIndexOf("p-")>0&&(t=e.substr(e.lastIndexOf("p-")+2).split(".")[0]),t}function switchTab(e,t,o){$(e).on("click",function(){var i=$(this),a=i.index();i.addClass(o).siblings(e).removeClass(o),$(t).eq(a).show().siblings(t).hide()})}function createCarousel(e,t,o,i,a){var n=$(e).attr("data-count");n=$.isNull(n)?0:Math.round(Math.random()*(n-1));var r=new Swiper(e,{autoplay:a,pagination:i,loop:!0,grabCursor:!0,paginationClickable:!0,speed:2e3,initialSlide:n});$(t).on("click",function(e){e.preventDefault(),r.swipePrev()}),$(o).on("click",function(e){e.preventDefault(),r.swipeNext()})}function elementBorderToggle(e,t,o){$(e).on("body","focus",function(){$(this).css("border-color",t)}),$(e).on("body","blur",function(){$(this).css("border-color",o)})}function getDate(e,t,o){t&&laydate({elem:e,istoday:!0,istime:!0,format:"YYYY-MM-DD hh:mm:ss"}),o&&laydate({elem:e,istoday:!0,istime:!0,format:"YYYY-MM-DD hh:mm:ss",max:laydate.now(+o)}),laydate({elem:e,istoday:!0})}function increaseBrightness(e,t){e=e.replace(/^\s*#|\s*$/g,""),3==e.length&&(e=e.replace(/(.)/g,"$1$1"));var o=parseInt(e.substr(0,2),16),i=parseInt(e.substr(2,2),16),a=parseInt(e.substr(4,2),16);return"#"+(0|256+o+(256-o)*t/100).toString(16).substr(1)+(0|256+i+(256-i)*t/100).toString(16).substr(1)+(0|256+a+(256-a)*t/100).toString(16).substr(1)}function changeRGB(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}var e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return e="#"+t(e[1])+t(e[2])+t(e[3])}function getArea(e,t,o){var i,a;"country"==e&&(i=apiRoot+"index.php?r=admin/common/country/get-country",a="continent="+t),"province"==e&&(i=apiRoot+"index.php?r=admin/common/country/get-region",a="country="+t),startAjax(i,a,function(e){o(e)})}function openPotLayer(e,t){return $("html").addClass("ofh"),$(e).fadeIn(100),$("body").on("click",".btn-close-potlayer",function(){return $("html").removeClass("ofh"),$(this).parent().parent().fadeOut(100),!1}),!1}function updateCartNum(e,t){getCartDataNew(e,function(e){if(0==e.errorcode)if(e.data){var o=0,i=0;$(e.data.products).each(function(){o+=parseInt(this.quantity),i+=this.final_price*this.quantity}),$(t).text(o),$(".js-item-count").text(o),$(".js-hc-total").text("$"+$.formatFloatTo2(i)),$(".js-hc-total").attr("data-usd",$.formatFloatTo2(i)),setCurrencyClick("")}else;})}function logout(e,t){function o(){startAjax(i,"",function(e){startAjax(a,"",function(e){if($.cookie("seeedName","",{expires:-1}),$.cookie("nickname_"+cookieENV,"",{expires:-1}),e.code)location.reload();else{var o=window.localStorage;void 0!=o&&(o.removeItem("sdtoken"),o.removeItem("sduserid"),o.removeItem("sdnewtoken")),clearUserInfo(),t?t():location.href="login.html"}})})}var i=seeedApiURL.setLogout,a=seeedApiURL.newSetLogout+getNewToken(!0);"confirm"==e&&($("body").createConfirmPot({id:"logout",title:"Are you sure to Log out?"}),$("#logout").on("click",".js-com",function(){o()})),"normal"==e&&o()}function expeditedWarn(e,t){seeedApiURL.setLogout,seeedApiURL.newSetLogout+getNewToken(!0);$("body").createConfirmPotNew({id:"expedited",title:"There are expedited and regular orders (or multiple expedited orders) in your cart. The package will only be dispatched once the slowest order is complete. We strongly recommend that you place expedited orders individually to avoid unnecessary delays."})}function isOnline(e){var t=seeedApiURL.newIsLogin+getNewToken(!0);startAjax(t,"",function(t){if(t.data||(t.data={}),0==t.code?t.data.is_online=!0:(t.errorcode=0,t.data.is_online=!1),7==t.code){if(window.localStorage.removeItem("sdtoken"),window.localStorage.removeItem("sduserid"),clearUserInfo(),"https://www.seeedstudio.com"==location.href)return!1;if(location.href.indexOf("cart_detail.html")>-1)return!1;if(location.href.indexOf("-p-")>-1)return!1;if("https://www.seeedstudio.com/fusion.html"==location.href)return!1;if("https://www.seeedstudio.com/fusion_pcb.html"==location.href)return!1;if("https://www.seeedstudio.com/premium-pcb-pcba.html"==location.href)return!1;if("https://www.seeedstudio.com/free-assembly-for-5-pcbs.html"==location.href)return!1;if("https://www.seeedstudio.com/fusion-3d-printing.html"==location.href)return!1;if("https://www.seeedstudio.com/opl.html"==location.href)return!1;if("https://www.seeedstudio.com/pcb-layout-service.html"==location.href)return!1;location.href.indexOf("login.html")===-1&&(recoveryLocation(),location.href="login.html")}if(3200==t.code){if(clearUserInfo(),"https://www.seeedstudio.com"==location.href)return!1;if("https://www.fusionpcb.jp/"==location.href)return!1;if(location.href.indexOf("cart_detail.html")>-1)return!1;if(location.href.indexOf("-p-")>-1)return!1;location.href.indexOf("login.html")==-1&&location.href.indexOf("free-assembly-for-5-pcbs.html")==-1&&location.href.indexOf("fusion.html")==-1&&location.href.indexOf("fusion_pcb.html")==-1&&location.href.indexOf("premium-pcb-pcba.html")==-1&&location.href.indexOf("stencil.html")==-1&&location.href.indexOf("opl.html")==-1&&location.href.indexOf("prototype-pcb-assembly.html")==-1&&location.href.indexOf("stencil.html")==-1&&location.href.indexOf("pcb-layout-service.html")==-1&&location.href.indexOf("kitting-service.html")==-1&&location.href.indexOf("fusion-cnc.html")==-1&&location.href.indexOf("HDK.html")==-1&&location.href.indexOf("manufacturing-equipment.html")==-1&&location.href.indexOf("fusion-3d-printing.html")==-1&&location.href.indexOf("gallery-index.html")==-1&&location.href.indexOf("distributors-affiliate.html")==-1&&location.href.indexOf("fusion-pcb-pcba-sponsorship.html")==-1&&location.href.indexOf("kickstarter.html")==-1&&(recoveryLocation(),window.location.href="login.html")}e&&e(t)})}function getApiData(e,t){var o=e;startAjax(o,"",function(e){t&&t(e)})}function getApiByParam(e,t,o){startAjax(e,t,function(e){o&&o(e)})}function checkUnenChar(e,t){for(i=0;i<e.length;i++)if(e.charCodeAt(i)>12592&&e.charCodeAt(i)<12687||e.charCodeAt(i)>=44032&&e.charCodeAt(i)<=55203)return!0;if(!t){var o=/[\u2E80-\u9FFF]/;if(o.test(e))return!0}return!1}function checkChinese(e){var t=/^[\u4e00-\u9fa5\d\s\.\-;~!@#$%^&*_]+$/;return!t.test(e)}function createEditer(e){var t='<link rel="stylesheet" href="'+apiRoot+'/js/plugin/umeditor/themes/default/css/umeditor.min.css">',o='<script src="'+baseURL+'/js/plugin/umeditor/umeditor.min.js"></script><script src="'+baseURL+'/js/plugin/umeditor/umeditor.config.js"></script><script src="'+baseURL+'/js/plugin/umeditor/lang/zh-cn/zh-cn.js"></script>';$("head").append(t),$("body").append(o);UM.getEditor(e,{initialFrameWidth:800,initialFrameHeight:400,retainOnlyLabelPasted:!0,pasteplain:!0})}function globalSearch(){var e=$(".main-nav"),t=e.find(".user-act"),o=e.find(".search-act");e.find(".search-result");$("body").on("click",".js-search",function(){t.hide(),o.show(),$(".hader-layer").remove(),$("#g-search").trigger("focus");var e='<div class="hader-layer abs hide"></div>';return $("body").addClass("ofh").append(e),$(".hader-layer").width($(document).width()),$(".hader-layer").height($(document).height()),$(".hader-layer").fadeIn(100),!1}),$("body").on("click",".js-close-search",function(){return o.hide(),$(".hader-layer").fadeOut(100),$("body").removeClass("ofh"),t.show(),!1}),$("body").on("click",".hader-layer",function(){$(".js-close-search").trigger("click")})}function getCartData(e){var t=apiRoot+"index.php?r=bazaar/cart/default/index",o="";startAjax(t,o,function(t){e(t)})}function getCartDataNew(e,t){var o=!1;1==Boolean(e)&&(o=!0);var i=seeedApiURL.getCartData+getRealToken(o);startAjax(i,"",function(e){t(e),setPriceOfFusionProduct(e)})}function getNavBarData(e){var t=apiRoot+"index.php?r=bazaar/products/navbar/get-navbar",o="view=index&position=shop";startAjax(t,o,function(t){e(t)})}function getAreaData(e){var t=apiRoot+"index.php?r=admin/common/country/get-country",o="";startAjax(t,o,function(t){e(t)})}function getRegionData(e,t){var o=apiRoot+"index.php?r=admin/common/country/get-region",i="country="+e;startAjax(o,i,function(e){t(e)})}function doSearch(e){var t,o=null,i=10,a=newApiRoot+"/hot",n="limit="+i,r=seeedApiURL.searchByName+getRealToken(e),s="",c=$("#searchResultList"),d=$("#searchInput");d.val(""),startAjax(a,n,function(e){0==e.errorcode&&($(e.data).each(function(e){return!(e>9)&&void(s+='<li class="searchresults-animated"><a href="/s/'+this+'.html" target="_self">'+this+"</a></li>")}),c.html(s).show())});var l;$("#searchInput").on("compositionstart",function(e){l=!0}),$("#searchInput").on("compositionend",function(e){l=!1}),$("#searchInput").on("input propertychange",function(){o&&o.abort();var a=$(this),n=c;t=$.trim(a.val());var d="keyword="+t+"&limit="+i,u="";return 0==t.length?(n.empty().append(s).show(),!1):void(l||(_limit=0,o=startAjax(r,d,function(o){200==o.code?($(o.data).each(function(){var o=this.name,i=new RegExp(t,"ig");if(this.name=this.name.replace(i,'<span style="color:#01936e;font-weight:700;">'+t+"</span>"),"."===t&&(this.name=o.replace(".",'<span style="color:#01936e;font-weight:700;">'+t+"</span>")),1==this.type){_limit++;var a=this.id+",'"+goItemDetailUrl(o,this.id)+"',"+e;u+='<li data-id="'+this.id+'"><a href="javascript:;"  onclick="searchStatistics('+a+') " target="_self">'+this.name+"</a></li>"}else u+='<li data-id="'+this.id+'"><a href="../category/'+getCodeUrl(o)+"-c-"+this.id+'.html" target="_self" ">'+this.name+"</a></li>"}),n.empty().append(u).show()):$("#searchResultList").hide()},function(){$("#searchResultList").hide()})))}),$("body").on("keydown","#searchInput",function(e){var t=$.trim($(this).val()),o=d,i=isSearchResultOn();if(13==e.keyCode)if(t=t.replace(/\\/g,""),t=t.replace(/[,\/'"]/g,""),""===t)location.href="/";else{var a={keyword:t};searchRecordReport(a,function(){location.href="/s/"+t+".html"})}else if(38==e.keyCode){var n="";i?($prev=i.prev(),i.removeClass("search-result-active"),0==$prev.length?(o.find("li:last-child").addClass("search-result-active"),n=o.find("li:last-child").find("a").text()):($prev.addClass("search-result-active"),n=$prev.find("a").text())):(o.find("li:last-child").addClass("search-result-active"),n=o.find("li:last-child").find("a").text()),$(this).val(n)}else if(40==e.keyCode){var n="";i?($next=i.next(),i.removeClass("search-result-active"),0==$next.length?(o.find("li:first-child").addClass("search-result-active"),n=o.find("li:first-child").find("a").text()):($next.addClass("search-result-active"),n=$next.find("a").text())):(o.find("li:first-child").addClass("search-result-active"),n=o.find("li:first-child").find("a").text()),$(this).val(n)}}),$("body").on("click",".search-val-box .icon-search",function(){var e=$.trim($("#searchInput").val());if(e=e.replace(/\\/g,""),e=e.replace(/[,\/'"]/g,""),""===e)location.href="/";else{var t={keyword:e};searchRecordReport(t,function(){location.href="/s/"+e+".html"})}})}function isSearchResultOn(){var e=!1;return $(".search-result").find("li").each(function(){if($(this).hasClass("search-result-active"))return e=$(this),!1}),e}function searchRecordReport(e,t){var o=4==environment?$.cookie("sduserid"):$.cookie("uid_"+cookieENV),i={guid:$.cookie("sdnewguid"),host:location.host};o&&(i.user_id=o),i=$.extend({},i,e),startAjax(seeedApiURL.searchReportKeyword+getNewToken(),i,function(e){t&&t()},function(e){t&&t()})}function searchStatistics(e,t,o){if(o)var i=seeedApiURL.searchSame+getRealToken(o);else i=seeedApiURL.searchSame+getRealToken(o)+"&user_id=0";var a={keyword:$("#searchInput").val(),limit:_limit,click_id:e};startAjax(i,a,function(e){window.location.href=t},function(e){window.location.href=t})}function backToTop(e){var t='<a rel="nofollow" href="#" class="back-to-top" title="Back to top"><i class="fa fa-angle-up"></i></a>';$("#footer").after(t);var o=$(".back-to-top");""!=o&&$(window).scroll(function(){0!=$(this).scrollTop()?o.show():o.fadeOut(200)}),o.click(function(){return $("body,html").animate({scrollTop:0},e),!1})}function getAreaOption(e,t){var o="";getAreaData(function(i){0==i.errorcode&&($(i.data).each(function(){o+='<option value="'+this.countries_id+'">'+this.countries_name+"</option>"}),$(e).find(".js-coun").hide().empty().append(o).show(),t&&t())}),$(e).on("change",".js-coun",function(){var e=$(this),t=e.val(),o="";getRegionData(t,function(t){0==t.errorcode&&(o='<div class="label f12"><i class="c-d0 mr5">*</i>State/Province</div><select class="input sm-input select js-state">',$(t.data).each(function(){o+='<option value="'+this.zone_id+'">'+this.zone_name+"</option>"}),o+="</select>"),3==t.errorcode&&(o='<div class="label f12"><i class="c-d0 mr5">*</i>State/Province</div><input type="text" class="input  sm-input js-state">'),e.parent("div").parent("div").find(".js-state-box").hide().empty().append(o).show();e.parent().next().find(".js-state")})}),t&&t()}function saveAddressToService(e,t){var o=$(e),i=o.find(".js-fn").val(),a=o.find(".js-ln").val(),n=o.find(".js-com").val(),r=o.find(".js-coun").val(),s=o.find(".js-state").val(),c=o.find(".js-city").val(),d=o.find(".js-add").val(),l=o.find(".js-code").val(),u=o.find(".js-phone").val(),p=apiRoot+"index.php?r=admin/user/user-address/add-user-address",f="source=1&first_name="+i+"&last_name="+a+"&company="+n+"&country="+r+"&province="+s+"&city="+c+"&street="+d+"&postcode="+l+"&phone="+u;startAjax(p,f,function(e){o.find(".input").val(""),$(".is_address_flag").val()&&($("#add-new-address").remove(),$("#aderess-book").removeClass("hide")),t&&t(e)})}function recoveryLocation(e){var t;t=e?e:window.location.href,$.cookie("recoURL",t,{path:"/"})}function removeItemOfCart(e,t,o){var i=seeedApiURL.deleteCart+getRealToken(e),a="id="+t;startAjax(i,a,function(e){o&&o(e)})}function doLogout(e){var t=seeedApiURL.setLogout,o=seeedApiURL.newSetLogout+getNewToken(!0);startAjax(t,"",function(t){startAjax(o,"",function(t){if($.cookie("seeedName","",{expires:-1}),$.cookie("nickname_"+cookieENV,"",{expires:-1}),t.code)location.reload();else{var o=window.localStorage;(o.getItem("sdtoken")||o.getItem("sdnewtoken"))&&(o.removeItem("sdtoken"),o.removeItem("sduserid"),o.removeItem("sdnewtoken")),clearUserInfo(),e&&e()}})})}function getTrackingData(e,t,o){var i=apiRoot+"index.php?r=bazaar/user/user-order/get-order-logistics",a="order_sn="+e+"&shipping_sn="+t;startAjax(i,a,function(e){o(e)})}function getTrackingDataParam(e,t,o){var i=apiRoot+"index.php?r=bazaar/user/user-order/get-order-logistics",a="order_sn="+e+"&shipping_sn="+t;startAjax(i,a,function(e){o(e,t)})}function addHeaderCart(e){var t=$(".js-user-list");if($(".user-detail").hover(function(){t.show()},function(){t.hide()}),$(".js-hc-logout").on("click",function(){doLogout(function(){location.reload()})}),$("#cart").length)return!1;getCartDataNew(e,function(e){if(0==e.errorcode){var t=$(".js-hc-detail"),o="";if(e.data){var i=0,a=0,n="";$(".js-cart-num")&&(n=getLocalhostUrl()?getLocalhostUrl():getQuery("p_id")),$(e.data.products).each(function(){i+=parseInt(this.quantity),a+=this.final_price*this.quantity,""!=n&&this.product_id==n&&($(".js-cart-num").val(this.quantity),$(".js-cart-num").attr("data-id",this.id))}),$(".js-cart-count").show(),$(".js-cart-count").text(i),$(".js-item-count").text(i),$(".js-hc-total").attr("data-usd",$.formatFloatTo2(e.data.total)),$(".js-hc-total").text($.formatFloatTo2(e.data.total)),e.data.products&&e.data.products.length>0&&$(".header-cart-detail .cartCheckout").css("display","block"),$(e.data.products).each(function(e){var t=this.product_bundles,i="",a='<li class="rel">';t.length>0&&(i='<p class="m0 text-omitt f12" style="line-height:20px;" >The Packaging contains '+(t.length-1)+" items.</p> "),e>4&&(a='<li class="rel hide">'),o+=a+'<a href="'+goItemDetailUrl(this.product_name,this.product_id)+'" title="'+this.product_name+'"><img src="'+imageRoot+this.product_thumb+'" class="img fl"><div class="link fl">'+this.product_name+'</div></a><div class="fr ml10"><a href="#" class="js-hc-remove c-9b" data-price='+$.formatFloatTo2(this.final_price)+'  data-id="'+this.id+'" data-name="'+this.product_name+'" data-quantity="'+this.quantity+'"><i class="fa fa-trash-o fa-lg"></i></a></div><div class="fr"><div class="mb5 js-currency">$'+$.formatFloatTo2(this.final_price)+'</div></div><div style="bottom: 20px;clear: both;">'+i+"</div></li>"})}else $(".js-cart-count").hide(),t.find(".total-bar").hide(),t.find(".empty-bar").show();$(".js-hc-list").empty().append(o),setCurrencyClick(""),0!=$(".js-hc-list").find("li").length&&($(".total-bar").show(),$(".empty-bar").hide()),$(".js-hc").hover(function(){t.show()},function(){t.hide()})}});$(".js-hc-list").on("click",".js-hc-remove",function(){var t=$(this),o=t.attr("data-id"),i=t.attr("data-price"),a=t.attr("data-name"),n=t.attr("data-quantity");if($(".js-cart-num")){var r=$(".js-cart-num").attr("data-id");r&&r==o&&$(".js-cart-num").val(0)}return removeItemOfCart(e,o,function(r){if(seoDelMiniCart(o,i,a,n),t.parents("li.rel").remove(),updateCartNum(e,".js-cart-count"),$(".js-hc-list").find("li").length)$(".js-hc-list").find("li").length>=5&&$(".js-hc-list").find("li").each(function(e){if(4==e)return $(this).show(),!1});else{$(".js-cart-count").hide(),$(".total-bar").hide(),$(".header-cart-detail .cartCheckout").css("display","none");var s=' <img class="empty-img" src="../img/cart-empty.png" width="80" height="70"/><span class="empty-text"> Your cart is empty</span>';$(".empty-bar").html(s).show()}}),!1})}function goItemDetailUrl(e,t){e=getCodeUrl(e);var o=e+"-p-"+t+".html";return 3232==t&&(o="/kitting-service.html"),o}function getCodeUrl(e){var e=encodeURIComponent(e);return e=e.replace(/%20/g,"-"),e=e.replace(/\-+/g,"-"),e=e.replace(/%2F/g,"-")}function getPercent(e,t){return e.toFixed(t)+"%"}function getUrlParameter(e){var t="";for(var o in e)t+=o+"="+e[o]+"&";return t=t.substr(0,t.length-1)}function setCurrencyClick(e,t,o){if($.isNull(e)){if(e=$.cookie("seeedCurrencyType"),void 0==e)return!1;setRateCookie(e,t,o)}else getApiByParam(seeedApiURL.setCurrency,{currency:e},function(i){t=i.data.rate,setRateCookie(e,t,o)})}function setRateCookie(e,t,o){var i=$.cookie("seeed_"+e+"_rate");return(!$.isNull(t)||!$.isNull(i))&&($(".j-currency-name").text(e),$(".j-currency-name").siblings(".country_flag").css({background:"url(../img/Flag/"+e+".svg) no-repeat","background-size":"cover",top:"11px"}),$.isNull(i)?($.cookie("seeed_"+e+"_rate",t,{expires:.04,path:"/"}),setCurrencyRate(e,t,o)):setCurrencyRate(e,i,o),void $.cookie("seeedCurrencyType",e,{expires:.04,path:"/"}))}function setCurrencyRate(e,t,o){$(".js-currency").each(function(){var o=$(this).attr("DATA-USD"),i="";switch(e){case"EUR":i="€";break;case"JPY":i="¥";break;case"GBP":i="£";break;case"CAD":i="C$";break;case"AUD":i="A$";break;case"USD":i="$";break;case"CNY":i="¥"}if(void 0==o){var a=$(this).text().trim();a=a.replace(/\-/g,""),o=a.substr(1),$(this).attr("DATA-USD",o)}var n=(Number(o)*Number(t)).toFixed(2);i?$(this).text(i+n):$(this).text(e+n)}),o&&o()}function getUserCurrency(){var e=$.cookie("seeedCurrencyType");if(void 0==e)return{unit:"$",rate:"1"};var t=e;switch(e){case"EUR":t="€";break;case"JPY":t="¥";break;case"GBP":t="£";break;case"CAD":t="C$";break;case"AUD":t="A$";break;case"USD":t="$";break;case"CNY":t="¥"}var o=$.cookie("seeed_"+e+"_rate");return{unit:t,rate:o}}function arrivalNotifyClick(e){var t=$(".notifyTipsBox .tip-cont").find("input");isOnline(function(e){if(0==e.errorcode)if(seeedLoginStatus=e.data.is_online,e.data.is_online)if($.cookie("arrivalTipEmail"))t.val(decodeURIComponent($.cookie("arrivalTipEmail")));else{var o=decodeURIComponent($.cookie("seeedEmail")),i=/^(testadmin)\d*(@seeed\.cc)$/g;i.test(o)?t.val(""):t.val(decodeURIComponent($.cookie("seeedEmail")))}else $.cookie("arrivalTipEmail1")?t.val(decodeURIComponent($.cookie("arrivalTipEmail1"))):t.val("");else $.cookie("arrivalTipEmail1")?t.val(decodeURIComponent($.cookie("arrivalTipEmail1"))):t.val("")}),arrivalProductId=$(".is-out").length?$(e).parents("tr").attr("data-id"):$(e).attr("data-id"),$(".notifyTipsBox").show()}function isObjEmpty(e){for(var t in e)return!1;return!0}function logoutAndLogin(){doLogout(function(){recoveryLocation(),location.href="login.html"})}function seoDelCart(e,t,o,i){dataLayer.push({event:"RemoveFromCart-CartRemoveItem-Fusion",ecommerce:{remove:{products:[{id:e,price:t,name:o,quantity:i,dimension1:"Promotional"}]}}})}function seoDelMiniCart(e,t,o,i){dataLayer.push({event:"RemoveFromCart-MiniCartRemoveItem-Fusion",ecommerce:{remove:{products:[{id:e,price:t,name:o,quantity:i,dimension1:"Promotional"}]}}})}function addBoxTips(e,t){var o="",i="tipCon",a='<a href="javascript:void(0);" class="tip-close"><i class="fa fa-close"></i></a>';"distinct_time"==e?(i="tipCon secWidth",o='<div><label>I want my items faster. Ship them as they become available. (at additional cost)</label></div><p>When items of the same order could not be ready at the same time, you can choose to have each dispatched as it becomes available or group your items into as few shipments as possible.</p><p><label>Check this means</label>, your items will be dispatched as they become available, beginning with those already in stock. You should choose this option if you want to receive your order quickly and the delivery may be delayed by the availabillity of single item, for example. However, we"ll charge you for the delivery of each parcel.</p><div><label>If you don"t check this</label>, your order will be grouped into as few shipments as possible. This may mean that they take longer to dispatch, depending on availability,but there"ll only be one per-delivery charge. Please be aware that items whose availability is listed as Pre Order or Back Ordered can potentially delay deliveries with this option.</div>'):"distinct_store"==e?(i="tipCon secWidth",o='<div><label>I want my items faster. Ship them from the closest warehouse. (at additional cost)</label></div><p>When the inventory of items are enough in HK and US, you can choose to make them available faster by shipping from different places or group them into one shippment.</p><p><label>Check this means</label>, items will be divided into two shipments shipping from US and HK.You should choose this option if you want to receive your items being fulfilled by Amazon quickly, and you may overpay a little money.</p><div><label>If you don"t check this</label>, all of items except PCB will be shipping from HK. This may mean that they take longer to dispatch.</div>'):"load-link"==e?(a="",o='<div style="text-align: center;">Sorry, not enough items in stock. Please try again.</div><div class="center tip-sub">BACK TO CART</div>'):"time-out"==e&&(a="",o='<div style="text-align: center;">Connection time out. Please check your internet connection and try again.</div><div class="center tip-sub">BACK TO CART</div>');var n='<div class="notifyTipsBox" id="'+e+'" style="display:block"><div class="notifyTips"></div><div class="'+i+'" style="height: auto;">'+a+'<div class="tip-cont">'+o+"</div></div></div>";$("body").append(n),$("#"+e).on("click",".tip-close",function(){$(this).closest(".notifyTipsBox").remove()}),""!=t&&$(".tip-sub").click(function(){location.href=t})}function getTopBanner(e){var t=seeedApiURL.getTopBanner+getRealToken(!1),o=e||"bazaar";startAjax(t,"type="+o,function(e){if(0==e.code){var t='<div class="header-top-tips w100p tc j-h-index-tips" style="background-color:'+e.data.color+'"><a href="'+e.data.link+'" title="'+e.data.desc+'" target="'+e.data.href_type+'" data-track-promo-name="'+e.data.desc+'" data-track-promo-creative="Ribbon" data-track-promo-position="Ribbon-1" ><img src="//statics3.seeedstudio.com'+e.data.image+'" alt="'+e.data.desc+'" class="center" style="max-width:1200px;"></a></div>';$("header").prepend(t)}})}function getOrderInfo(e,t,o){var i="";switch(e){case"paypal":i="//"+window.location.host+"/api/index.php?r=bazaar/payment/pay&express_id="+t;break;case"order":i="//"+window.location.host+"/api/index.php?r=bazaar/payment/pay&order_sn="+t}startAjax(i,"",function(e){o&&o(e)})}function getBomTotalData(e,t){var o="",i=1==t?"c-000 f-os-sb":"cir-bg f-os-b";return e.st_total&&e.st_total>0&&(o+='<li class="fl">Total parts:<span class="'+i+'">'+e.st_total+"</span></li>"),e.st_unavailbale&&e.st_unavailbale>0&&(o+='<li class="fl">Unavailable:<span class="'+i+'">'+e.st_unavailbale+"</span></li>"),e.st_pending&&e.st_pending>0&&(o+='<li class="fl">Pending:<span class="'+i+'">'+e.st_pending+"</span></li>"),e.st_confirmed&&e.st_confirmed>0&&(o+='<li class="fl">Confirmed:<span class="'+i+'">'+e.st_confirmed+"</span></li>"),o}function openFusionBom(e){$("#fusion-bom").length>0&&$("#fusion-bom").remove();var t=parseInt($(e).attr("data-id")),o=parseInt($(e).attr("data-pid"));data=fusion_bom_data[t],length=data.length,total=length,unavailbale=0,pending=0,confirmed=0,kitPid=3232,ulStr='<ul class="clear mt10 mb20 f-os-sb">',tbStr="",str='<div class="fusion-bom-detail rel" id="fusion-bom"><div class="fusion-bom-bg"></div><div class="fusion-bom-contain f13 c-3c '+(total>8?"con-new":"")+'"><div class="fusion-bom-close abs f20"><i class="fa fa-close"></i></div><div class="title f20 f-os-sb">BOM</div>',tbStr+='<div class="f-os-sb detail-table-div '+(length>8?"tab-div":"")+'"><table class="fusion-table f12"><tr class="f13"><th class="w-1">Order</th><th class="w-2 '+(o==kitPid?"hide":"")+'">Location</th><th class="w-3">MPN/SKU</th><th class="w-2">Quantity</th><th class="w-2 '+(o==kitPid?"hide":"")+'">Waste Qty</th><th class="w-2">Amount</th><th class="w-4">Status</th>',$(data).each(function(e){var t=(parseInt(this.qty)*parseInt(this.pcba_qty)+parseInt(this.waste_qty))*this.unit_price,i=0==this.status?"Unavailable":1==this.status||2==this.status?"Pending":"Confirmed",a=/^(508)/,n="",r=parseInt(this.qty);n=this.sku&&a.test(this.sku)?this.mpn:!this.sku&&this.mpn?this.mpn:this.sku,tbStr+="<tr><td>"+(e+1)+'</td><td class="'+(o==kitPid?"hide":"")+'"><div class="lh16 mt10 mb10 ml10 mr10 ofa" style="max-height:100px;">'+this.designator+"</div></td><td>"+n+"</td><td>"+(0==r?0:r)+" * "+parseInt(this.pcba_qty)+'</td><td class="'+(o==kitPid?"hide":"")+'">'+this.waste_qty+'</td><td><label class="js-currency">$'+t.toFixed(2)+"</label></td><td>"+i+"</td></tr>",1==this.status||2==this.status?pending++:0==this.status?unavailbale++:confirmed++}),total>0&&(ulStr+='<li class="fl">Total parts:<span class="cir-bg f-os-b">'+total+"</span></li>"),unavailbale>0&&(ulStr+='<li class="fl">Unavailable:<span class="cir-bg f-os-b">'+unavailbale+"</span></li>"),pending>0&&(ulStr+='<li class="fl">Pending:<span class="cir-bg f-os-b">'+pending+"</span></li>"),confirmed>0&&(ulStr+='<li class="fl">Confirmed:<span class="cir-bg f-os-b">'+confirmed+"</span></li>"),ulStr+="</ul>",tbStr+="</table></div>",str+=ulStr+tbStr+'<div class="mt15 c-000 '+(total>8?"pr60":"")+'"><label class="f-os-sb c-3c">Unavailable:</label> This status means that your component is not available. You need to find a new part with a new MPN and send it to our email: <a class="email" href="mailto:Fusion@seeed.cc">Fusion@seeed.cc</a></div><div class="mt10 c-000 '+(total>8?"pr60":"")+'"><label class="f-os-sb c-3c">Pending:</label> This status means that we are now checking the MPN you want is available or not, please wait and pay attention to the message from our email: <a class="email" href="mailto:Fusion@seeed.cc">Fusion@seeed.cc</a></div></div></div>',$("body").append(str),$("#fusion-bom .fusion-bom-close").click(function(){$("#fusion-bom").remove()}),total>8&&$("#fusion-bom .detail-table-div").mCustomScrollbar({axis:"y",theme:"my-theme",autoExpandScrollbar:!0,advanced:{autoExpandHorizontalScroll:!0}})}function isNumberKey(e,t,o){var i=e.which?e.which:event.keyCode,a=t.value.length;i>31&&(i<48||i>57)?e.preventDefault():(1==o&&a>22&&e.preventDefault(),2==o&&a>4&&e.preventDefault(),3==o&&a>2&&e.preventDefault())}function getQuestionnaireQData(e,t,o,i){var a=seeedApiURL.getQuestionnaireData+getRealToken(e),n="key="+t+"&page="+o;startAjax(a,n,function(e){0==e.code&&i(e.data)})}function submitForm(e,t,o,i,a){var n=seeedApiURL.submittQuestionnaireData+getRealToken(e),r="item_id="+t+"&key="+o+"&param="+i;
startAjax(n,r,function(e){0==e.code&&a(e)})}function recommendAddCart(){$("body").on("click",".vi-item-add,.si-add-cart",function(){var e=$(this),t=e.find("label"),o=e.find("span"),i=e.parent(),a=e.attr("data-id");t.html('<i class="fa fa-spinner fa-spin"></i>').removeClass("animated fadeOut").removeClass("hide"),o.addClass("hide"),addDataToCart(a,1,function(n){if(0==n.errorcode){t.html("SUCCESS").addClass("animated fadeIn"),setTimeout(function(){t.removeClass("animated fadeIn").addClass("animated fadeOut"),setTimeout(function(){t.addClass("hide"),o.removeClass("hide")},500)},1e3),$(".js-hc-list").length>0?addHeaderCart(is_login):location.href="/cart_detail.html";var r={id:a,price:i.find(".vi-item-price").text().substr(1)};return seoAddToCart(r),!1}1==n.errorcode&&(e.removeClass("vi-item-add").addClass("vi-item-dis"),t.html(n.msgs.toUpperCase()).addClass("animated fadeIn"),setTimeout(function(){t.removeClass("animated fadeIn").addClass("animated fadeOut"),e.removeClass("vi-item-dis").addClass("vi-item-add"),setTimeout(function(){t.addClass("hide"),o.removeClass("hide")},1e3)},1e3))})})}function addDataToCart(e,t,o){var i=seeedApiURL.addCartNew+getRealToken(is_login),a="pid="+e+"&qty="+t;startAjax(i,a,function(e){o(e)})}function getFusionIds(e){var t=seeedApiURL.getFusionIds+getRealToken(!0);startAjax(t,"",function(t){e(t)})}function getUnionForm(e,t){var o=seeedApiURL.getUnionForm+getRealToken(!0)+"&order_sn="+e;$("#pay_form").remove(),startAjax(o,"",function(e){t(e)})}function PayFormClick(e,t){getUnionForm(t,function(e){0==e.code&&($("body").append(e.data.pay_form),$("#pay_form").submit())}),addGaCode(e,t,"Union")}function createFusionPcbaTestDetail(){var e=$("body");e.append('<div class="potlayer j-pcba-test f14"></div>'),e.on("click",".j-pcba-test-detail",function(){var e=$(this),t=e.attr("data-status"),o=e.attr("data-file"),i="";if(1==t&&(i='<div class="clear mt10 title"><h2 class="fl">Functional Test</h2><div class="fr">Confirming</div></div><p>We have received your enquiry for the PCBA with functional test. We will confirm the quotation within one working day. If you have any question regarding fusion service, please contact us at <a href="mailto:fusion@seeed.cc">fusion@seeed.cc</a></p><a href="'+o+'" class="underline mt20 dis-block">Download File</a>'),2==t){var a=e.attr("data-cost"),n=e.attr("data-hour");i='<div class="clear mt10 title"><h2 class="fl">Functional Test</h2><div class="fr">Confirmed</div></div><div class="clear mt20"><div class="fl f-os-b">$'+a+'</div><div class="fr">Estimated working hours for functional test: <span class="f-os-b">'+n+'</span></div></div><a href="'+o+'" class="underline mt20 dis-block">Download File</a><p class="mt20">If you have any question regarding fusion service, please contact us at <a href="mailto:fusion@seeed.cc">fusion@seeed.cc</a></p>'}3==t&&(i='<div class="clear mt10 title"><h2 class="fl">Functional Test</h2><div class="fr">Rejected</div></div><a href="'+o+'" class="underline mt20 dis-block">Download File</a><p class="mt20">If you have any question regarding fusion service, please contact us at <a href="mailto:fusion@seeed.cc">fusion@seeed.cc</a></p>');var r='<div class="pcba-test-detail rel"><div class="j-close-pcba-test btn-close">x</div>'+i+"</div>";return $(".j-pcba-test").empty().append(r).show(),!1}),e.on("click",".j-close-pcba-test",function(){return $(".j-pcba-test").hide(),!1})}function changeTimeToDate(e){var t=new Date(1e3*e),o=t.getFullYear(),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getHours()<10?"0"+t.getHours():t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return o+"-"+i+"-"+a+" "+n+":"+r+":"+s}function isObjectEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function productRecommendedTracking(e,t,o){var i="product_id="+e+"&from_product_id="+t+"&click_from="+o;isOnline(function(e){var t=void 0==getUid()?"0":getUid();startAjax(newApiRoot+"/bazaar/product/click"+getRealToken(e.data.is_online)+"&user_id="+t,i,function(e){return!0})})}function formatJsonRes(e){return"string"==typeof e?JSON.parse(e):e}function doRequestUsingPOST(e){return e.replace(/\+/g,"%2B").replace(/\&/g,"%26")}function newPaypalCheckout(e,t,o){var i=window.location.protocol+"//"+window.location.host+"/pay_msg.html?order_sn="+e,a={order_sn:e,front_end_callback_success_url:i,front_end_callback_fail_url:i,payment_method:1};o&&(a.payment_method=6),startAjax(seeedApiURL.newPaypalCheckout,a,function(e){0==e.code&&(t?t(e.data.payment_url):window.location.href=e.data.payment_url)})}function setPriceOfFusionProduct(e){var t=0,o=[1667,835,1511,1391,2798,2893,2989,2990];if(void 0==e.data)return!1;var i=e.data.products;if(""!=i&&i.forEach(function(e){var i=void 0==e.all_stock.max?0:e.all_stock.max.count;i>0&&o.indexOf(parseInt(e.product_id))>-1&&(t+=1*e.final_price)}),window.localStorage){var a=window.localStorage;a.setItem("fusionProductTotalInCart",t)}}function errorLogCollect(e,t,o){var i={};i.userFlag=window.location.href,i.userAgent=window.navigator?window.navigator.userAgent:"",i.apiReturn=o,i.apiURL=e,$.post(newApiRoot+"/open/base/server/errlog",i)}function indexLogoHref(){var e=document.getElementById("index-logo-href");e&&(e.href="/"===window.location.pathname?"https://www.seeed.cc":"/")}function setCookie(e,t){var o=4==environment?"sdnewtoken":"token_"+cookieENV,i=4==environment?"sduserid":"uid_"+cookieENV;$.cookie(o,e,{expires:7,domain:"www.seeedstudio.io"}),$.cookie(i,t,{expires:7,domain:"www.seeedstudio.io"}),$.cookie(o,e,{expires:7,domain:cookieDomain}),$.cookie(i,t,{expires:7,domain:cookieDomain})}function getGuid(){var e="";return $.ajax({url:seeedApiURL.getGuid,contentType:"application/json",type:"GET",cache:!1,async:!1,success:function(t){0==t.code&&(e=t.data)}}),e}var baseURL="//"+window.location.host,apiRoot=baseURL+"/api/",imageRoot="//statics3.seeedstudio.com",environment=baseURL.indexOf("release.seeed.int")>-1?2:1;environment=baseURL.indexOf("a.seeedstudio.com")>-1?3:environment,environment=["//www.seeedstudio.com","//shop1.seeedstudio.com","//shop2.seeedstudio.com","//shop3.seeedstudio.com","//www.seeedstudio.io"].indexOf(baseURL)>-1?4:environment;var newApiRoot=2==environment?"//apirelease.seeed.int:8082":"//bzapi.seeedstudio.com";newApiRoot=3==environment?"//bzapi.seeedstudio.com":newApiRoot,newApiRoot=4==environment?"//sapi.seeedstudio.com":newApiRoot;var newApiRoot2=2==environment?"//192.168.1.99:3008":"//relwapi.seeedstudio.com";newApiRoot2=3==environment?"//relwapi.seeedstudio.com":newApiRoot2,newApiRoot2=4==environment?"//wapi.seeedstudio.com":newApiRoot2,!function(){window.PAYPAL_ENVIRONMENT={appid:"AVAnHudP_Shyc3NkvjPxGePTza_r6JQT3VbOq8uZzFAocnCT4BiSJDJ-K2BuR3B8f7Glvp67vbnxDVyY",authend:"sandbox"},3!=environment&&4!=environment||(PAYPAL_ENVIRONMENT.appid="AZwKEA06-lvJLSDUx5C60Br_GESKOqgUB3e6SCl4CPJiXIVnLIDryeGhPo--D8y5-vykPRjuZtnLmCRN",PAYPAL_ENVIRONMENT.authend="")}();var socketIp=3==environment||4==environment?"wss://socket.seeedstudio.com":"ws://192.168.1.40:2346",pay_email=4==environment?"payment_api1.seeed.cc":"supersandy_api1.gmail.com",pay_environment=4==environment?"production":"sandbox",paypal_url=4==environment?"https://www.paypal.com/checkoutnow?token=":"https://www.sandbox.paypal.com/checkoutnow?token=",braintree_merchantId=4==environment?"601570":"3tn8ybv4q38nkznr",is_fba_show=!1,fusion_bom_data={},cookieDomain=1==environment?"kkk.cc":"seeedstudio.com",cookieENV;switch(environment){case 1:cookieENV="local";break;case 2:cookieENV="dev";break;case 3:cookieENV="rel";break;default:cookieENV="on"}var seeedApiURL={addCart:apiRoot+"index.php?r=bazaar/cart/default/add",getCurrency:apiRoot+"index.php?r=bazaar/checkout/currency/get-currency",setCurrency:apiRoot+"index.php?r=bazaar/checkout/currency/set-currency",getIpCurrency:apiRoot+"index.php?r=bazaar/checkout/currency/ip-currency",getCurrencyList:newApiRoot+"/bazaar/currency/index",getOrdesList:apiRoot+"index.php?r=bazaar/user/order/list",getFusionList:apiRoot+"index.php?r=bazaar/user/order/fusion",getCustomerOrdesList:newApiRoot+"/order-list",getCustomerFusionList:newApiRoot+"/fusion-list",setCancelOrdes:apiRoot+"index.php?r=bazaar/user/order/cancel",getIsLogin:newApiRoot+"/is-login",setLogout:apiRoot+"index.php?r=common/login/logout",newSetLogout:newApiRoot+"/account/login/p-c-logout",setLogin:apiRoot+"index.php?r=common/login/login",getImages:newApiRoot+"/fusion/fusion-file/gerber-image",confirmReceip:newApiRoot+"/bazaar/order/confirm-receipt",searchSame:newApiRoot+"/search/search/search-same",shipUploadCosts:newApiRoot+"/shipping/upload-costs",searchByName:newApiRoot+"/search/name",getNavCategoryData:newApiRoot+"/index/navigation",confirmReceipt:newApiRoot+"/bazaar/order/confirm-receipt",getCartData:newApiRoot+"/cart",updateCart:newApiRoot+"/update-cart",deleteCart:newApiRoot+"/delete-cart",addCartNew:newApiRoot+"/add-cart",setShipAddress:newApiRoot+"/set-ship-address",getShipList:newApiRoot+"/bazaar/checkout/product-logistics",setShipping:newApiRoot+"/shipping_set",checkout:newApiRoot+"/checkout",couponsVerify:newApiRoot+"/bazaar/checkout/coupons-verify",couponsCancel:newApiRoot+"/bazaar/checkout/coupons-cancel",orderSplit:newApiRoot+"/bazaar/checkout/order-split",wireLessCheckout:newApiRoot+"/wireless",welcomeCoupon:newApiRoot+"/bazaar/promotion/welcome-coupon",getTopBanner:newApiRoot+"/top-banner",getProductArticleList:newApiRoot+"/product/article",gerberUpload:newApiRoot+"/fusion/fusion-file/gerber",bingGerberUpload:newApiRoot+"/fusion/fusion-file/bind-gerber",getPcbParam:newApiRoot+"/fusion/parament/pcb-param",getPremiumPcbParam:newApiRoot+"/fusion/parament/premium-param",getPcbPrice:newApiRoot+"/fusion/price/pcb",getPremiumPcbPrice:newApiRoot+"/fusion/price/premium-pcb",addFusionToCart:newApiRoot+"/bazaar/cart/add-fusion",bomUpload:newApiRoot+"/fusion/fusion-file/bom",getBomToken:apiRoot+"index.php?r=bazaar/fusion/default/get-token",getBomDetail:newApiRoot+"/fusion/price/bom-compute",getReBomDetail:newApiRoot+"/fusion/price/async-bom-price",setBomComponent:newApiRoot+"/fusion/price/bom-select",setBomCompLink:newApiRoot+"/fusion/price/bom-enquiry",setMultiBomCompLink:newApiRoot+"/fusion/price/bom-enquiry-multi",getBomPrice:newApiRoot+"/fusion/price/pcba",getStencilParam:newApiRoot+"/fusion/parament/stencil-param",getStencilPrice:newApiRoot+"/fusion/price/stencil",getKeyPanel:newApiRoot+"/fusion/custom/key-panel",getGalleryList:newApiRoot+"/fusion/gallery/list",getGalleryHomeList:newApiRoot+"/fusion/gallery/home-list",addGalleryToCart:newApiRoot+"/bazaar/cart/fusion-gallery",get3dMaterialData:newApiRoot+"/fusion/parament/td-material",f3DUpload:newApiRoot+"/fusion/fusion-file/three-dimensional",get3dPrice:newApiRoot+"/fusion/price/three-dimensional",getOplCategory:newApiRoot+"/fusion/opl/category",getOplList:newApiRoot+"/fusion/opl/all",getOplCategoryList:newApiRoot+"/fusion/opl/list",searchOpl:newApiRoot+"/fusion/opl/search",getFusionLanguage:newApiRoot+"/doc/multilang/key",getFusionLayoutPrice:newApiRoot+"/fusion/price/layout",getAdvancePcbParam:newApiRoot+"/fusion/parament/high-pcb-param",getAdvancePcbPrice:newApiRoot+"/fusion/price/high-pcb",testPlanUpload:newApiRoot+"/fusion/fusion-test/upfile",getCncParam:newApiRoot+"/fusion/parament/cnc-param",cncUpload:newApiRoot+"/fusion/fusion-file/cnc",getCncPrice:newApiRoot+"/fusion/price/cnc",getCncParamDes:newApiRoot+"/fusion/parament/cnc-param-desc",addCncToCart:newApiRoot+"/bazaar/cart/add-cnc",fusionActiveState:newApiRoot+"/fusion/parament/activity",getOplParam:newApiRoot+"/fusion/opl/premium",getUnsubscribeMsg:newApiRoot+"/bazaar/user/unsubscribe-prompt",unsubscribeFusion:newApiRoot+"/bazaar/user/email-unsubscribe",getFaqList:newApiRoot+"/getFaqList",addProductFAQ:newApiRoot+"/addProductFAQ",addFAQComment:newApiRoot+"/addFAQComment",likeFAQ:newApiRoot+"/likeFAQ",likeComment:newApiRoot+"/likeComment",getReviewList:newApiRoot+"/getReviewList",addReview:newApiRoot+"/addReview",likeReview:newApiRoot+"/likeReview",modifyEmail:apiRoot+"index.php?r=common/login/modify-email",getHalloween:newApiRoot+"/bazaar/data/halloween",getFullActivity:newApiRoot+"/bazaar/adv/fullsend",getCouponsList:newApiRoot+"/bazaar/checkout/coupons-list",getUserCoupons:newApiRoot+"/bazaar/user/user-coupons",addCoupon:newApiRoot+"/bazaar/user/add-coupon",getPropogateProducts:newApiRoot+"/bazaar/propogate/inventory",getPropogateOrders:newApiRoot+"/bazaar/propogate/product-order-status",getPropogateSummary:newApiRoot+"/bazaar/propogate/product-sales-summary",getPropogateReport:newApiRoot+"/bazaar/propogate/payment-report",getPropogateSku:newApiRoot+"/bazaar/propogate/products",getPropogateSales:newApiRoot+"/bazaar/propogate/sales-summary",getPropogateExportSales:newApiRoot+"/bazaar/propogate/export-sales-summary",getPropagateAccessView:newApiRoot+"/propagate/access/view",getSeoKeyword:newApiRoot+"/seo/keyword",getAggregation:newApiRoot+"/aggregation",getAggregationInfo:newApiRoot+"/sku_info",getSeoOrderInfo:newApiRoot+"/pay_msg",expressCheckout:apiRoot+"index.php?r=bazaar/payment/express",getOrderDetail:newApiRoot+"/order-detail",getUserAddressList:newApiRoot+"/address/list",deleteUserAddress:newApiRoot+"/address/remove",addUserAddress:newApiRoot+"/address/add",updateUserAddress:newApiRoot+"/address/update",getUserAddressDetail:newApiRoot+"/address/detail",setDefaultAddress:newApiRoot+"/address/set_default",getQuestionnaireData:newApiRoot+"/doc/questionnaire/list",submittQuestionnaireData:newApiRoot+"/doc/questionnaire/process",getRecommend:apiRoot+"index.php?r=recommend/index",propagateBaseParam:newApiRoot+"/propagate/parament/head",propagateFileUpload:newApiRoot+"/propagate/file/normal",propagateCertificate:newApiRoot+"/propagate/parament/certificate",getCertificatePrice:newApiRoot+"/propagate/enquiry/certificate",propagatePackaging:newApiRoot+"/propagate/parament/packaging",getPackagingPrice:newApiRoot+"/propagate/enquiry/packaging",propagateMould:newApiRoot+"/propagate/parament/mould",getMouldPrice:newApiRoot+"/propagate/enquiry/mould",propagateBomParam:newApiRoot+"/propagate/parament/assembly",getPropgateBomPrice:newApiRoot+"/propagate/enquiry/pcba",confirmPropagete:newApiRoot+"/propagate/confirm/all",getGalleryOrder:newApiRoot+"/fusion/gallery/my",getGalleryTags:newApiRoot+"/fusion/gallery/tags",galleryWrite:newApiRoot+"/fusion/gallery/write",galleryRead:newApiRoot+"/fusion/gallery/read",galleryIndexRecommend:newApiRoot+"/fusion/gallery/recommend",galleryIndexDisplay:newApiRoot+"/fusion/gallery/display",gallerySetNumPort:newApiRoot+"/fusion/gallery/num-port",getGalleryParam:newApiRoot+"/fusion/parament/deassign",getGalleryPrice:newApiRoot+"/fusion/price/deassign",getFusionIds:newApiRoot+"/open/base/server/fusion-product",addReviewNew:newApiRoot+"/bazaar/review-new/add",getReviewDetail:newApiRoot+"/bazaar/review-new/get-order-review",getUnionForm:newApiRoot+"/payment/unionpay/pay-form",batchAddToCart:newApiRoot+"/batch-add",uploadExcel:newApiRoot+"/upload/file",uploadCheckout:newApiRoot+"/bazaar/big/checkout-excel",getBillMonth:newApiRoot+"/bazaar/big/get-bill-month",getBill:newApiRoot+"/bazaar/big/get-bill",newLogin:newApiRoot+"/account/login/p-c-web-login",newIsLogin:newApiRoot+"/account/login/is-login",newRegister:newApiRoot+"/account/register/p-c-web-register",newPaypalCheckout:newApiRoot+"/payment/paypal/pay",newPaypalLogin:newApiRoot+"/account/paypal-login/login",detailPrice:apiRoot+"index.php?r=bazaar/products/product/ladder-price",detailDiscount:newApiRoot+"/discount/shopping/all-desc",cartDiscount:newApiRoot+"/discount/shopping/cn-desc",fusionGoods:newApiRoot+"/open/base/server/fusion-product",productLine:newApiRoot+"/wap/search/grove-category",productLinePage:newApiRoot+"/wap/search/category",fusionDistributorList:newApiRoot2+"/order/distributor/list/order",fusionOrderStatus:newApiRoot2+"/order/list/status/5",fusionSettleStatus:newApiRoot2+"/order/list/settle/status",fusionSettleOrder:newApiRoot2+"/order/distributor/list/settle",fusionSettleApply:newApiRoot2+"/order/distributor/settle/apply",fusionSettleRecord:newApiRoot2+"/order/distributor/list/apply",searchReportKeyword:newApiRoot+"/search/save-search-word",bigDownloadList:newApiRoot+"/bazaar/big/download-product-list",getGuid:newApiRoot2+"/user/guest",getReorderParam:newApiRoot+"/fusion/parament/pcb-reorder",getReorderPrice:newApiRoot+"/fusion/price/pcb-reorder",getKittingPackage:newApiRoot+"/fusion/parament/kitting",kitBomUpload:newApiRoot+"/fusion/fusion-file/kitting",getKitPackagePrice:newApiRoot+"/fusion/price/kitting-package",getKitPrice:newApiRoot+"/fusion/price/kitting",getKitBomPrice:newApiRoot+"/fusion/price/kitting-bom-compute",fileUpload:newApiRoot+"/fusion/fusion-file/normal",addKitToCart:newApiRoot+"/bazaar/cart/add-kitting",getdistributor:newApiRoot+"/account/distributor/detail",reply:newApiRoot+"/suspended/customer/reply",wirePaymentUpload:newApiRoot+"/fusion/fusion-file/normal",confirmReceipt:newApiRoot+"/payment-receipts"},scoketApi={userCoupon:2,userOrder:3,viewUser:4};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function o(e){return s.raw?e:decodeURIComponent(e)}function i(e){return t(s.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(r," ")),s.json?JSON.parse(e):e}catch(t){}}function n(t,o){var i=s.raw?t:a(t);return e.isFunction(o)?o(i):i}var r=/\+/g,s=e.cookie=function(a,r,c){if(void 0!==r&&!e.isFunction(r)){if(c=e.extend({},s.defaults,c),"number"==typeof c.expires){var d=c.expires,l=c.expires=new Date;l.setTime(+l+864e5*d)}return document.cookie=[t(a),"=",i(r),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var u=a?void 0:{},p=document.cookie?document.cookie.split("; "):[],f=0,m=p.length;f<m;f++){var h=p[f].split("="),g=o(h.shift()),v=h.join("=");if(a&&a===g){u=n(v,r);break}a||void 0===(v=n(v))||(u[g]=v)}return u};s.defaults={},e.removeCookie=function(t,o){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},o,{expires:-1})),!e.cookie(t))}}),!function(e){function t(t){function o(e){f.push({x:e.clientX,y:e.clientY}),f.length>g&&f.shift()}function i(){h&&clearTimeout(h),l.exitMenu(this)&&(p&&l.deactivate(p),p=null)}function a(){h&&clearTimeout(h),l.enter(this),s(this)}function n(){l.exit(this)}function r(e){e!==p&&(p&&l.deactivate(p),l.activate(e),p=e)}function s(e){var t=c();t?h=setTimeout(function(){s(e)},t):r(e)}function c(){function t(e,t){return(t.y-e.y)/(t.x-e.x)}if(!p||!e(p).is(l.submenuSelector))return 0;var o=u.offset();0==o.left&&(o={left:(document.body.clientWidth-1200)/2,top:42});var i={x:o.left,y:o.top-l.tolerance},a={x:o.left+u.outerWidth(),y:i.y},n={x:o.left,y:o.top+u.outerHeight()+l.tolerance},r={x:o.left+u.outerWidth(),y:n.y},s=f[f.length-1],c=f[0];if(!s)return 0;if(c||(c=s),c.x<o.left||c.x>r.x||c.y<o.top||c.y>r.y)return 0;if(m&&s.x===m.x&&s.y===m.y)return 0;var d=a,h=r;"left"===l.submenuDirection?(d=n,h=i):"below"===l.submenuDirection?(d=r,h=n):"above"===l.submenuDirection&&(d=i,h=a);var g=t(s,d),w=t(s,h),y=t(c,d),b=t(c,h);return y>g&&w>b?(m=s,v):(m=null,0)}var d,l,u=e(this),p=null,f=[],m=null,h=null,g=3,v=300;d={rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:e.noop,exit:e.noop,activate:e.noop,deactivate:e.noop,exitMenu:e.noop},l=e.extend({},d,t),u.on("mouseleave",i).find(l.rowSelector).on({mouseenter:a,mouseleave:n,click:function(){r(this)}}),e(document).mousemove(o)}e.fn.seeedMenuMove=function(e){return this.each(function(){t.call(this,e)}),this}}(jQuery),!function(e,t,o){"undefined"!=typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd?define(o):t[e]=o()}("Fingerprint",this,function(){"use strict";var e=function(e){var t,o;t=Array.prototype.forEach,o=Array.prototype.map,this.each=function(e,o,i){if(null!==e)if(t&&e.forEach===t)e.forEach(o,i);else if(e.length===+e.length){for(var a=0,n=e.length;n>a;a++)if(o.call(i,e[a],a,e)==={})return}else for(var r in e)if(e.hasOwnProperty(r)&&o.call(i,e[r],r,e)==={})return},this.map=function(e,t,i){var a=[];return null==e?a:o&&e.map===o?e.map(t,i):(this.each(e,function(e,o,n){a[a.length]=t.call(i,e,o,n)}),a)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)};return e.prototype={get:function(){var e=[];if(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution){var t=this.getScreenResolution();"undefined"!=typeof t&&e.push(this.getScreenResolution().join("x"))}return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),document.body?e.push(typeof document.body.addBehavior):e.push("undefined"),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var o,i,a,n,r,s,c,d;for(o=3&e.length,i=e.length-o,a=t,r=3432918353,s=461845907,d=0;i>d;)c=255&e.charCodeAt(d)|(255&e.charCodeAt(++d))<<8|(255&e.charCodeAt(++d))<<16|(255&e.charCodeAt(++d))<<24,++d,c=(65535&c)*r+(((c>>>16)*r&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,a^=c,a=a<<13|a>>>19,n=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=(65535&n)+27492+(((n>>>16)+58964&65535)<<16);switch(c=0,o){case 3:c^=(255&e.charCodeAt(d+2))<<16;case 2:c^=(255&e.charCodeAt(d+1))<<8;case 1:c^=255&e.charCodeAt(d),c=(65535&c)*r+(((c>>>16)*r&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,a^=c}return a^=e.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var e=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"];return this.map(e,function(e){try{return new ActiveXObject(e),e}catch(t){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),o="http://valve.github.io";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(o,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(o,4,17),e.toDataURL()}},e}),$.fn.createConfirmPot=function(e){var t={id:"confirm-potlayer",title:"Confirm",clazz:"",text:"",confirm:!0,cancel:!0},o=$.extend({},t,e),i=""==o.text?"":'<p class="text c-10">'+o.text+"</p>",a=o.confirm?'<a href="#" class="btn btn-confirm js-com fr">CONFIRM</a>':"",n=o.cancel?'<a href="#" class="btn btn-default mr20 js-confrim-cancel fl">CANCEL</a>':"",r='<div class="potlayer '+o.clazz+'" id="'+o.id+'"><div class="potlayer__confirm tc clear"><div class="title c-10">'+o.title+"</div>"+i+n+a+"</div></div>";return $("body").on("click",".js-confrim-cancel",function(){return $(this).parent().parent().hide(),$("html").removeClass("ofh"),!1}),this.append(r)},$.fn.createConfirmPotNew=function(e){var t={id:"confirm-potlayer",title:"Confirm",clazz:"",text:"",confirm:!0,cancel:!0},o=$.extend({},t,e),i=""==o.text?"":'<p class="text c-10" style="font-size:14px;text-align: left;">'+o.text+"</p>",a=o.confirm?'<a href="#" class="btn btn-confirm js-com fl" style="text-transform: none;">Continue</a>':"",n=o.cancel?'<a href="#" class="btn btn-default mr20 js-confrim-cancel fr">Cancel</a>':"",r='<div class="potlayer '+o.clazz+'" id="'+o.id+'"><div class="potlayer__confirm tc clear"><div class="fa fa-close  fa-expedited-close" style="position: absolute;right: 10px;top: 10px;"></div><h4 style="text-align: center;line-height: 50px;border-bottom: 1px solid #DFDFDF;margin-block-end: 1.33em;">Reminder</h4><div class="title c-10" style="font-size:14px;text-align:left;">'+o.title+"</div>"+i+a+n+"</div></div>";return $("body").on("click",".js-confrim-cancel",function(){return $(this).parent().parent().hide(),$("html").removeClass("ofh"),!1}),$("body").on("click",".fa-expedited-close",function(){return $(this).parent().parent().hide(),$("html").removeClass("ofh"),!1}),this.append(r)},$.fn.creatLoadingState=function(e){var t={bgc:"#09694f",removeclass:"js-add-cart",text:"ADDING"},o=$.extend({},t,e),i=$(this).clone().css("background-color",o.bgc).attr("href","javascript:void(0);").attr("id",o.id).addClass(o.clazz).removeClass(o.removeclass).html('<i class="fa fa-spinner fa-spin mr10"></i>'+o.text);$(this).hide().parent().append(i)},$.extend({checkNotNull:function(e,t){var o=$(t);o.on(e,function(){var e=$(this);e.parent().find(".warning").remove(),""==$.trim(o.val())?(e.parent().append('<div class="warning tr abs hide">This field is required </div>'),e.next().removeClass("hide").addClass("animated flash")):e.next().remove()})},clickCheckNotNull:function(e,t){var o=$(e),i=$.trim(o.val());if(o.parent().find(".warning").remove(),""==i)o.parent().append('<div class="warning tr abs hide">This field is required </div>'),o.next().removeClass("hide").addClass("animated flash");else{if(t){if((e.indexOf(".js-city")>-1||e.indexOf(".js-state")>-1||e.indexOf(".js-add")>-1)&&checkChinese(i))return o.parent().append('<div class="warning tr abs hide">Chinese Only</div>'),o.next().removeClass("hide").addClass("animated flash"),!1}else if((e.indexOf(".js-city")>-1||e.indexOf(".js-state")>-1||e.indexOf(".js-add")>-1)&&checkUnenChar(i))return o.parent().append('<div class="warning tr abs hide">English Only</div>'),o.next().removeClass("hide").addClass("animated flash"),!1;o.next().remove()}},checkMail:function(e,t){var o=/.*@\w+([\.-]?\w+)*(\.\w{2,5})+$/;$(t).on(e,function(){var e=$(this),t=e.val();e.parent().find(".warning").remove(),o.test(t)?e.next().remove():(e.parent().append('<div class="warning tr abs hide">Email wrong</div>'),e.next().removeClass("hide").addClass("animated shake"))})},onlyNumber:function(e){return e.value=e.value.replace(/[^\d]/g,"").replace(/(\d{4})(?=\d)/g,"$1")},formatFloatTo2:function(e){return e=e||0,parseFloat(e).toFixed(2)},isNull:function(e){return null==e||void 0==e||""==e},formatImgURl:function(e){if(e.indexOf("upload")!=-1){var t=imageRoot+e;return t}if(e.indexOf("images")!=-1){var t=imageRoot+e;return t}var t=imageRoot+e;return t}});var _limit=0;$(function(){$("body").on("click","#searchResultList a",function(e){e.preventDefault();var t=$(this).attr("href"),o={click_word:$(this).text(),keyword:$.trim($("#searchInput").val())};searchRecordReport(o,function(){/\/s\/|\.html/.test(t)&&(location.href=t)})})});var arrivalProductId=0,seeedLoginStatus=!1,is_login=!0;indexLogoHref();